import{O as ve,P as ke,Q as le,V as we,W as me,Y as he,r as l,Z as Me,_ as Ce,c as ge,R as W,o as ne,j as e,v as u,s as f,w as N,b as S,t as Se,H as Ge,K as Ee,I as Y,z as g,f as te,u as Oe,h as De,T as B,C as Z,d as ie,k as Re,G as A,n as Ae,g as Pe,E as X}from"./index-CLTl5StW.js";import{L as Te,C as Ue}from"./Skeleton-B9bRdjkx.js";import{M as Q,C as Fe}from"./Modal-CpaovrEF.js";import{e as de}from"./eventService-BQnuQhM8.js";import{g as ce}from"./goalService-FkjqyHE3.js";import{u as oe,g as J}from"./groupService-B_r6IL8e.js";import{S as Le}from"./Select-Bap-Xp91.js";import{P as Ke}from"./plus-BDtnugHB.js";import{A as xe}from"./award-DwfuNDxd.js";import{T as qe}from"./trending-up-CvF7llKF.js";var Ie=class extends ve{#t;#a=void 0;#e;#s;constructor(a,n){super(),this.#t=a,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const n=this.options;this.options=this.#t.defaultMutationOptions(a),ke(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#e,observer:this}),n?.mutationKey&&this.options.mutationKey&&le(n.mutationKey)!==le(this.options.mutationKey)?this.reset():this.#e?.state.status==="pending"&&this.#e.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#e?.removeObserver(this)}onMutationUpdate(a){this.#r(),this.#l(a)}getCurrentResult(){return this.#a}reset(){this.#e?.removeObserver(this),this.#e=void 0,this.#r(),this.#l()}mutate(a,n){return this.#s=n,this.#e?.removeObserver(this),this.#e=this.#t.getMutationCache().build(this.#t,this.options),this.#e.addObserver(this),this.#e.execute(a)}#r(){const a=this.#e?.state??we();this.#a={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){me.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#a.variables,c=this.#a.context,i={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,n,c,i),this.#s.onSettled?.(a.data,null,n,c,i)):a?.type==="error"&&(this.#s.onError?.(a.error,n,c,i),this.#s.onSettled?.(void 0,a.error,n,c,i))}this.listeners.forEach(n=>{n(this.#a)})})}};function ee(a,n){const c=he(),[i]=l.useState(()=>new Ie(c,a));l.useEffect(()=>{i.setOptions(a)},[i,a]);const h=l.useSyncExternalStore(l.useCallback(r=>i.subscribe(me.batchCalls(r)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),v=l.useCallback((r,b)=>{i.mutate(r,b).catch(Me)},[i]);if(h.error&&Ce(i.options.throwOnError,[h.error]))throw h.error;return{...h,mutate:v,mutateAsync:h.mutate}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ge("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),Qe=()=>{const a=he(),[n,c]=l.useState(!1),[i,h]=l.useState(!1),[v,r]=l.useState(!1),[b,G]=l.useState(null),[o,k]=l.useState(null),[w,P]=l.useState(""),[T,E]=l.useState(""),[O,s]=l.useState(""),[d,p]=l.useState([]),[y,M]=l.useState(10),[m,C]=l.useState(3),[U,F]=l.useState([]),[j,L]=l.useState([]),[K,se]=l.useState(!0),[q,ae]=l.useState(!0),{data:I=[],isLoading:ue}=oe({queryKey:["admin-groups"],queryFn:()=>J.getGroups()}),{data:re=[]}=oe({queryKey:["all-users"],queryFn:()=>te.getUsers()}),$=re.filter(t=>t.role===W.MENTOR&&t.status===ne.ACTIVE),D=re.filter(t=>t.role===W.MENTEE&&t.status===ne.ACTIVE),z=ee({mutationFn:t=>J.createGroup(t),onSuccess:()=>{a.invalidateQueries({queryKey:["admin-groups"]}),c(!1),V(),g.success("Group created successfully!")},onError:()=>{g.error("Failed to create group")}}),H=ee({mutationFn:t=>J.createGroupsRandomly(t),onSuccess:t=>{a.invalidateQueries({queryKey:["admin-groups"]}),h(!1),_(),g.success(`${t.length} groups created successfully!`)},onError:()=>{g.error("Failed to create random groups")}}),pe=ee({mutationFn:t=>J.deleteGroup(t),onSuccess:()=>{a.invalidateQueries({queryKey:["admin-groups"]}),r(!1),G(null),g.success("Group deleted successfully!")},onError:()=>{g.error("Failed to delete group")}}),V=()=>{P(""),E(""),s(""),p([]),M(10)},_=()=>{C(3),F([]),L([]),se(!0),ae(!0)},ye=()=>{if(!w.trim()){g.error("Group name is required");return}if(!O){g.error("Please select a mentor");return}if(d.length===0){g.error("Please select at least one mentee");return}z.mutate({name:w,description:T,mentorId:O,menteeIds:d,maxMembers:y})},je=()=>{if(m<1){g.error("Mentees per mentor must be at least 1");return}const t=K?void 0:U,x=q?void 0:j;if(!K&&t?.length===0){g.error("Please select at least one mentor");return}if(!q&&x?.length===0){g.error("Please select at least one mentee");return}H.mutate({menteesPerMentor:m,mentorIds:t,menteeIds:x})},be=t=>{p(x=>x.includes(t)?x.filter(R=>R!==t):[...x,t])},fe=t=>{F(x=>x.includes(t)?x.filter(R=>R!==t):[...x,t])},Ne=t=>{L(x=>x.includes(t)?x.filter(R=>R!==t):[...x,t])};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Group Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create and manage mentoring groups"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(u,{onClick:()=>h(!0),variant:"secondary",className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Create Random Groups"]}),e.jsxs(u,{onClick:()=>c(!0),className:"bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Create Manual Group"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(f,{children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Groups"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I.length})]}),e.jsx(S,{className:"w-8 h-8 text-blue-500"})]})})}),e.jsx(f,{children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Available Mentors"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:$.length})]}),e.jsx(S,{className:"w-8 h-8 text-green-500"})]})})}),e.jsx(f,{children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Available Mentees"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:D.length})]}),e.jsx(S,{className:"w-8 h-8 text-purple-500"})]})})}),e.jsx(f,{children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Groups"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I.filter(t=>t.isActive).length})]}),e.jsx(S,{className:"w-8 h-8 text-orange-500"})]})})})]}),e.jsxs(f,{children:[e.jsx(Se,{children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"All Groups"})}),e.jsx(N,{children:ue?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading groups..."}):I.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No groups created yet"}):e.jsx("div",{className:"space-y-4",children:I.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Mentor: ",t.mentorName||"Unknown"," | Mentees: ",t.menteeIds?.length||0]}),t.description&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{size:"sm",variant:"ghost",onClick:()=>k(t),children:e.jsx(Ge,{className:"w-4 h-4"})}),e.jsx(u,{size:"sm",variant:"ghost",onClick:()=>{G(t),r(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:e.jsx(Ee,{className:"w-4 h-4"})})]})]},t.id))})})]}),e.jsx(Q,{isOpen:n,onClose:()=>{c(!1),V()},title:"Create Manual Group",maxWidth:"xl",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Group Name *"}),e.jsx(Y,{value:w,onChange:t=>P(t.target.value),placeholder:"Enter group name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),e.jsx("textarea",{value:T,onChange:t=>E(t.target.value),placeholder:"Enter group description",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Mentor *"}),e.jsx(Le,{value:O,onChange:t=>s(t.target.value),options:[{value:"",label:"Choose a mentor..."},...$.map(t=>({value:t.id,label:`${t.firstName} ${t.lastName} (${t.email})`}))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Max Members"}),e.jsx(Y,{type:"number",min:"2",value:y,onChange:t=>M(parseInt(t.target.value))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Select Mentees * (",d.length," selected)"]}),e.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded-md p-3 max-h-64 overflow-y-auto bg-white dark:bg-gray-700",children:D.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No mentees available"}):e.jsx("div",{className:"space-y-2",children:D.map(t=>e.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 dark:hover:bg-gray-600 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:d.includes(t.id),onChange:()=>be(t.id),className:"rounded border-gray-300 dark:border-gray-600"}),e.jsxs("span",{className:"text-sm text-gray-900 dark:text-white",children:[t.firstName," ",t.lastName," (",t.email,")"]})]},t.id))})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(u,{variant:"outline",onClick:()=>{c(!1),V()},children:"Cancel"}),e.jsx(u,{onClick:ye,disabled:z.isPending,children:z.isPending?"Creating...":"Create Group"})]})]})}),e.jsx(Q,{isOpen:i,onClose:()=>{h(!1),_()},title:"Create Random Groups",maxWidth:"xl",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mentees per Mentor *"}),e.jsx(Y,{type:"number",min:"1",max:"20",value:m,onChange:t=>C(parseInt(t.target.value)),placeholder:"Enter number of mentees per mentor"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["This will create groups with ",m," mentee(s) assigned to each mentor"]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mentors"}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:K,onChange:t=>se(t.target.checked),className:"rounded border-gray-300 dark:border-gray-600"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use all mentors"})]})]}),!K&&e.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded-md p-3 max-h-48 overflow-y-auto bg-white dark:bg-gray-700",children:$.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No mentors available"}):e.jsx("div",{className:"space-y-2",children:$.map(t=>e.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 dark:hover:bg-gray-600 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:U.includes(t.id),onChange:()=>fe(t.id),className:"rounded border-gray-300 dark:border-gray-600"}),e.jsxs("span",{className:"text-sm text-gray-900 dark:text-white",children:[t.firstName," ",t.lastName]})]},t.id))})})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mentees"}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q,onChange:t=>ae(t.target.checked),className:"rounded border-gray-300 dark:border-gray-600"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use all mentees"})]})]}),!q&&e.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded-md p-3 max-h-48 overflow-y-auto bg-white dark:bg-gray-700",children:D.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No mentees available"}):e.jsx("div",{className:"space-y-2",children:D.map(t=>e.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 dark:hover:bg-gray-600 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j.includes(t.id),onChange:()=>Ne(t.id),className:"rounded border-gray-300 dark:border-gray-600"}),e.jsxs("span",{className:"text-sm text-gray-900 dark:text-white",children:[t.firstName," ",t.lastName]})]},t.id))})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(u,{variant:"outline",onClick:()=>{h(!1),_()},children:"Cancel"}),e.jsx(u,{onClick:je,disabled:H.isPending,className:"bg-gradient-to-r from-purple-500 to-purple-600",children:H.isPending?"Creating...":"Create Random Groups"})]})]})}),o&&e.jsx(Q,{isOpen:!!o,onClose:()=>k(null),title:o.name,maxWidth:"lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:o.description||"No description"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mentor"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:o.mentorName||"Unknown"})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Mentees (",o.mentees?.length||0,")"]}),e.jsx("div",{className:"space-y-2",children:o.mentees&&o.mentees.length>0?o.mentees.map(t=>e.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[e.jsxs("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full flex items-center justify-center text-white text-xs font-medium",children:[t.firstName.charAt(0),t.lastName.charAt(0)]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t.firstName," ",t.lastName]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.email})]})]},t.id)):e.jsx("p",{className:"text-sm text-gray-500",children:"No mentees assigned"})})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(u,{onClick:()=>k(null),children:"Close"})})]})}),e.jsx(Fe,{isOpen:v,onClose:()=>{r(!1),G(null)},onConfirm:()=>b&&pe.mutate(b.id),title:"Delete Group",message:`Are you sure you want to delete "${b?.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger"})]})},tt=()=>{const{user:a}=Oe(),n=De(),[c,i]=l.useState([]),[h,v]=l.useState(!0),[r,b]=l.useState(null),[G,o]=l.useState(!1),[k,w]=l.useState(!1),P=async()=>{if(a?.role===W.MENTOR)try{if(v(!0),(await te.getGroups()).find(p=>p.mentorId===a.id)){const y=(await te.getUsers()).filter(m=>m.role==="MENTEE"&&m.isActive),M=await Promise.all(y.map(async m=>{const C=await T(m.id);return{...m,stats:C}}));i(M)}}catch(s){console.error("Failed to fetch mentees:",s)}finally{v(!1)}},T=async s=>{try{const d=await de.getJoinedEvents(),p=d.length,y=new Date,M=d.filter(j=>{const L=new Date(j.scheduledAt);return j.status===X.SCHEDULED&&L>=y}).length,m=await ce.getGoals(s),C=m.filter(j=>j.status!==A.COMPLETED).length,U=m.filter(j=>j.status===A.COMPLETED).length,F=JSON.parse(localStorage.getItem(`shared_resources_${s}`)||"[]");return{activeGoals:C,completedGoals:U,eventsJoined:p,upcomingEvents:M,resourcesAccessed:F.length}}catch(d){return console.error("Failed to fetch mentee stats:",d),{activeGoals:0,completedGoals:0,eventsJoined:0,upcomingEvents:0,resourcesAccessed:0}}};if(l.useEffect(()=>{P()},[a]),a?.role===W.ADMIN)return e.jsx(Qe,{});const E=s=>{n("/messages",{state:{recipientId:s}})},O=async s=>{b(s),o(!0),w(!0);try{const[d,p]=await Promise.all([ce.getGoals(s.id),de.getJoinedEvents()]);b(y=>y?{...y,goals:d||[],events:p||[]}:null)}catch(d){console.error("Failed to fetch mentee details:",d)}finally{w(!1)}};return h?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"My Mentees"}),e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Overview of all your assigned mentees and their progress"})]})}),e.jsx(Te,{items:3,itemComponent:Ue})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"My Mentees"}),e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Overview of all your assigned mentees and their progress"})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(S,{className:"w-4 h-4 inline mr-1"}),c.length," Total Mentees"]})]}),c.length===0?e.jsx(f,{children:e.jsxs(N,{className:"text-center py-12",children:[e.jsx(S,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Mentees Yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have any assigned mentees at the moment."})]})}):e.jsx("div",{className:"space-y-3",children:c.map(s=>e.jsx("div",{className:"cursor-pointer",onClick:()=>O(s),children:e.jsx(f,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold",children:[s.firstName?.[0],s.lastName?.[0]]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:[s.firstName," ",s.lastName]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[e.jsxs("div",{className:"text-center px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg min-w-[60px]",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-0.5",children:[e.jsx(B,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:"Goals"})]}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:s.stats.activeGoals})]}),e.jsxs("div",{className:"text-center px-3 py-2 bg-green-50 dark:bg-green-900/20 rounded-lg min-w-[60px]",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-0.5",children:[e.jsx(xe,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Done"})]}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:s.stats.completedGoals})]}),e.jsxs("div",{className:"text-center px-3 py-2 bg-purple-50 dark:bg-purple-900/20 rounded-lg min-w-[60px]",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-0.5",children:[e.jsx(Z,{className:"w-3 h-3 text-purple-600 dark:text-purple-400"}),e.jsx("span",{className:"text-xs font-medium text-purple-600 dark:text-purple-400",children:"Events"})]}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:s.stats.eventsJoined})]}),e.jsxs("div",{className:"text-center px-3 py-2 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-lg min-w-[60px]",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-0.5",children:[e.jsx(qe,{className:"w-3 h-3 text-orange-600 dark:text-orange-400"}),e.jsx("span",{className:"text-xs font-medium text-orange-600 dark:text-orange-400",children:"Progress"})]}),e.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[s.stats.completedGoals>0?Math.round(s.stats.completedGoals/(s.stats.activeGoals+s.stats.completedGoals)*100):0,"%"]})]})]}),e.jsx("div",{className:"flex gap-2 flex-shrink-0",onClick:d=>d.stopPropagation(),children:e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>E(s.id),className:"px-3 py-1.5",children:[e.jsx(ie,{className:"w-3.5 h-3.5 mr-1.5"}),"Message"]})})]})})})},s.id))}),r&&e.jsx(Q,{isOpen:G,onClose:()=>o(!1),title:`${r.firstName} ${r.lastName} - Details`,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xl font-bold",children:[r.firstName?.[0],r.lastName?.[0]]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[r.firstName," ",r.lastName]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.email})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 text-center",children:[e.jsx(B,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mx-auto mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.stats.activeGoals}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Active Goals"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 text-center",children:[e.jsx(xe,{className:"w-5 h-5 text-green-600 dark:text-green-400 mx-auto mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.stats.completedGoals}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Completed"})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 text-center",children:[e.jsx(Z,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mx-auto mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.stats.eventsJoined}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Events"})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-3 text-center",children:[e.jsx(Re,{className:"w-5 h-5 text-orange-600 dark:text-orange-400 mx-auto mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.stats.resourcesAccessed}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Resources"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4"}),"Goals (",r.goals?.length||0,")"]}),k?e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):r.goals&&r.goals.length>0?e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.goals.map(s=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.status===A.COMPLETED?e.jsx(Ae,{className:"w-4 h-4 text-green-600 flex-shrink-0"}):e.jsx($e,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),e.jsx("h5",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.title})]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 ml-6 line-clamp-2",children:s.description})]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full flex-shrink-0 ${s.status===A.COMPLETED?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":s.status===A.IN_PROGRESS?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:s.status.replace("_"," ")})]}),e.jsx("div",{className:"mt-2 ml-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 dark:bg-blue-500 rounded-full transition-all",style:{width:`${s.progress}%`}})}),e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400 flex-shrink-0",children:[s.progress,"%"]})]})})]},s.id))}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No goals yet"})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4"}),"Events Attended (",r.events?.length||0,")"]}),k?e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto"})}):r.events&&r.events.length>0?e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.events.slice(0,5).map(s=>e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.title}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 flex items-center gap-1",children:[e.jsx(Pe,{className:"w-3 h-3"}),new Date(s.scheduledAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full flex-shrink-0 ${s.status===X.COMPLETED?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":s.status===X.SCHEDULED?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:s.status})]})},s.id))}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No events attended yet"})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs(u,{onClick:()=>{E(r.id),o(!1)},className:"flex-1",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Send Message"]}),e.jsx(u,{variant:"outline",onClick:()=>o(!1),children:"Close"})]})]})})]})};export{tt as MyMentees};
