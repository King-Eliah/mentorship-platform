import{j as e,v as c,r as i,R as l,z as u,s as O,w as $,a6 as I,b as ae,C as E,d as b,S as ee,I as w,H as Z,K as be,X as se,e as ye}from"./index-DmCLvhFB.js";import{u as fe}from"./useAuth-CmnfCYBk.js";import{D as N}from"./DropdownSelect-Bvimj8bT.js";import{C as Ne}from"./ConfirmationDialog-Dy2gOxkT.js";import{L as ve,C as we}from"./Skeleton-9vD4stKU.js";import{P as je}from"./plus-D_bTDaNg.js";import{S as g}from"./star-DUuLy8p4.js";import{U as L}from"./user-check-B19KUKFk.js";import{S as te}from"./send-DviwpUFP.js";const ke=({title:a,message:y,icon:m,action:o,className:v=""})=>e.jsxs("div",{className:`text-center py-12 px-6 ${v}`,children:[m&&e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(m,{className:"h-16 w-16 text-gray-400 dark:text-gray-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:a}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto leading-relaxed",children:y}),o&&e.jsx(c,{onClick:o.onClick,variant:o.variant||"primary",className:"inline-flex items-center gap-2",children:o.label})]}),Se=({value:a,onChange:y,placeholder:m="Enter your text...",readOnly:o=!1,className:v="",height:d="200px"})=>e.jsx("div",{className:`border border-gray-300 rounded-md ${v}`,children:e.jsx("textarea",{value:a,onChange:j=>y(j.target.value),placeholder:m,readOnly:o,className:"w-full p-3 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent rounded-md",style:{height:d}})}),D=[{value:"mentor",label:"About Mentor",description:"Rate and provide feedback about your mentor",allowedRoles:[l.MENTEE],icon:e.jsx(L,{className:"w-4 h-4"})},{value:"mentee",label:"About Mentee",description:"Provide feedback about your mentee's progress",allowedRoles:[l.MENTOR],icon:e.jsx(ae,{className:"w-4 h-4"})},{value:"event",label:"Event Feedback",description:"Share your thoughts about events and workshops",allowedRoles:[l.ADMIN,l.MENTOR,l.MENTEE],icon:e.jsx(E,{className:"w-4 h-4"})},{value:"system",label:"System Feedback",description:"Report issues or suggest improvements",allowedRoles:[l.ADMIN,l.MENTOR,l.MENTEE],icon:e.jsx(ye,{className:"w-4 h-4"})},{value:"general",label:"General Feedback",description:"Any other feedback or suggestions",allowedRoles:[l.ADMIN,l.MENTOR,l.MENTEE],icon:e.jsx(b,{className:"w-4 h-4"})}],Me=()=>{const{user:a}=fe(),[y,m]=i.useState([]),[o,v]=i.useState([]),[d,j]=i.useState(""),[h,G]=i.useState("all"),[p,U]=i.useState("all"),[re,k]=i.useState(!1),[le,F]=i.useState(!1),[r,H]=i.useState(null),[ne,J]=i.useState(!0),[R,V]=i.useState(""),[W,K]=i.useState(null),[S,q]=i.useState(!1),[C,B]=i.useState(""),[n,f]=i.useState({type:"general",title:"",content:"",rating:5,targetId:"",targetName:"",isAnonymous:!1}),[A,M]=i.useState({isOpen:!1,feedbackId:null,feedbackTitle:""});i.useEffect(()=>{ie()},[]);const Y=i.useCallback(()=>{let s=y;d&&(s=s.filter(t=>t.title.toLowerCase().includes(d.toLowerCase())||t.content.toLowerCase().includes(d.toLowerCase())||t.targetName?.toLowerCase().includes(d.toLowerCase()))),h!=="all"&&(s=s.filter(t=>t.type===h)),p!=="all"&&(s=s.filter(t=>t.status===p)),a?.role!==l.ADMIN&&(s=s.filter(t=>t.submittedById===a?.id)),v(s)},[y,d,h,p,a]);i.useEffect(()=>{Y()},[Y]);const ie=async()=>{J(!0);try{await new Promise(t=>setTimeout(t,800)),m([{id:"1",type:"mentor",title:"Excellent mentoring sessions",content:"Dr. Johnson has been incredibly helpful in guiding my career development. Her insights and feedback have been invaluable.",rating:5,targetId:"mentor-1",targetName:"Dr. Sarah Johnson",submittedBy:"John Smith",submittedById:"user-1",submittedAt:"2025-09-14T10:30:00Z",status:"reviewed",response:"Thank you for the positive feedback! It's wonderful to hear about your progress.",respondedBy:"Dr. Sarah Johnson",respondedAt:"2025-09-14T15:00:00Z",isAnonymous:!1},{id:"2",type:"mentee",title:"Great progress and engagement",content:"Emily has shown tremendous growth over the past month. She consistently comes prepared to our sessions and actively implements the strategies we discuss. Her communication skills have improved significantly.",rating:5,targetId:"user-3",targetName:"Emily Chen",submittedBy:"Dr. Sarah Johnson",submittedById:"mentor-1",submittedAt:"2025-09-13T14:20:00Z",status:"reviewed",response:"Thank you for the encouraging feedback! I'm grateful for your guidance and support.",respondedBy:"Emily Chen",respondedAt:"2025-09-13T18:45:00Z",isAnonymous:!1},{id:"3",type:"event",title:"Communication Skills Workshop",content:"The workshop was well-organized and provided practical tips. However, it could have been longer to cover more examples.",rating:4,targetId:"event-1",targetName:"Communication Skills Workshop",submittedBy:"Anonymous",submittedById:"user-2",submittedAt:"2025-09-12T16:45:00Z",status:"pending",isAnonymous:!0},{id:"4",type:"mentee",title:"Needs more initiative",content:"Mike is a bright student but could benefit from taking more initiative in our sessions. Sometimes he seems unprepared and relies too heavily on me to guide the conversation.",rating:3,targetId:"user-4",targetName:"Mike Davis",submittedBy:"Prof. Robert Wilson",submittedById:"mentor-2",submittedAt:"2025-09-11T11:30:00Z",status:"reviewed",response:"I appreciate the honest feedback. I will work on being more proactive and prepared for our sessions.",respondedBy:"Mike Davis",respondedAt:"2025-09-11T16:00:00Z",isAnonymous:!1},{id:"5",type:"system",title:"Dashboard loading issue",content:"The dashboard sometimes takes a long time to load, especially the analytics section. It would be great if this could be optimized.",targetName:"Dashboard Performance",submittedBy:"Emily Chen",submittedById:"user-3",submittedAt:"2025-09-10T09:15:00Z",status:"resolved",response:"We've identified and fixed the performance issue. The dashboard should now load much faster.",respondedBy:"Technical Team",respondedAt:"2025-09-11T14:30:00Z",isAnonymous:!1},{id:"6",type:"general",title:"Program structure suggestion",content:"It would be helpful to have more structured goal-setting sessions at the beginning of the mentorship program.",submittedBy:"Mike Davis",submittedById:"user-4",submittedAt:"2025-09-08T11:00:00Z",status:"reviewed",response:"Great suggestion! We're planning to implement structured goal-setting sessions in the next program iteration.",respondedBy:"Program Director",respondedAt:"2025-09-09T10:00:00Z",isAnonymous:!1}])}catch(s){console.error("Failed to fetch feedbacks:",s),u.error("Failed to load feedbacks")}finally{J(!1)}},T=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),X=s=>e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(t=>e.jsx(g,{className:`w-4 h-4 ${t<=s?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},t))}),_=s=>{switch(s){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"reviewed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"resolved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},P=s=>{const{name:t,value:x,type:pe}=s.target;f(ge=>({...ge,[t]:pe==="checkbox"?s.target.checked:t==="rating"?parseInt(x):x}))},oe=s=>{f(t=>({...t,content:s}))},de=async()=>{if(!n.title.trim()||!n.content.trim()){u.error("Please fill in the required fields");return}try{await new Promise(t=>setTimeout(t,1e3));const s={id:Math.random().toString(36),type:n.type,title:n.title,content:n.content,rating:["mentor","mentee","event"].includes(n.type)?n.rating:void 0,targetId:n.targetId||void 0,targetName:n.targetName||void 0,submittedBy:n.isAnonymous?"Anonymous":`${a?.firstName} ${a?.lastName}`,submittedById:a?.id||"",submittedAt:new Date().toISOString(),status:"pending",isAnonymous:n.isAnonymous};m(t=>[s,...t]),u.success("Feedback submitted successfully"),z()}catch{u.error("Failed to submit feedback")}},z=()=>{k(!1),f({type:"general",title:"",content:"",rating:5,targetId:"",targetName:"",isAnonymous:!1})},ce=s=>{H(s),F(!0)},me=(s,t)=>{M({isOpen:!0,feedbackId:s,feedbackTitle:t})},xe=()=>{A.feedbackId&&(m(s=>s.filter(t=>t.id!==A.feedbackId)),u.success("Feedback deleted successfully"),M({isOpen:!1,feedbackId:null,feedbackTitle:""}))},ue=()=>{M({isOpen:!1,feedbackId:null,feedbackTitle:""})},Q=s=>{if(!R.trim()){u.error("Please enter a reply");return}m(t=>t.map(x=>x.id===s?{...x,response:R,respondedBy:`${a?.firstName} ${a?.lastName}`,respondedAt:new Date().toISOString(),status:"reviewed"}:x)),u.success("Reply sent successfully"),V(""),K(null)},he=s=>{if(!C.trim()){u.error("Please enter a response");return}m(t=>t.map(x=>x.id===s?{...x,response:C,respondedBy:`${a?.firstName} ${a?.lastName}`,respondedAt:new Date().toISOString()}:x)),H(t=>t?{...t,response:C,respondedBy:`${a?.firstName} ${a?.lastName}`,respondedAt:new Date().toISOString()}:null),u.success("Response updated successfully"),q(!1),B("")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Feedback Center"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1",children:a?.role===l.ADMIN?"Review and respond to user feedback":"Share your thoughts and help us improve"})]}),a?.role!==l.ADMIN&&e.jsxs(c,{onClick:()=>k(!0),className:"min-w-[44px] min-h-[44px] w-full sm:w-auto",children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"Give Feedback"]})]}),a?.role!==l.ADMIN&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:D.filter(s=>s.allowedRoles.includes(a?.role)).map(s=>e.jsx("div",{className:"cursor-pointer",onClick:()=>{f(t=>({...t,type:s.value})),k(!0)},children:e.jsx(O,{className:"hover:shadow-md transition-shadow",children:e.jsxs($,{className:"p-4 text-center",children:[e.jsxs("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mx-auto mb-3",children:[s.value==="mentor"&&e.jsx(I,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"}),s.value==="mentee"&&e.jsx(ae,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"}),s.value==="event"&&e.jsx(E,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"}),s.value==="system"&&e.jsx(b,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"}),s.value==="general"&&e.jsx(g,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})]}),e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:s.label}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.description})]})})},s.value))}),e.jsx(O,{children:e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:hidden",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(w,{placeholder:"Search feedback...",value:d,onChange:s=>j(s.target.value),className:"pl-10"})]}),e.jsx(N,{options:[{value:"all",label:"All Types",icon:e.jsx(b,{className:"w-4 h-4"}),description:"Show all feedback types"},...D.map(s=>({value:s.value,label:s.label,icon:s.icon,description:s.description}))],value:h,onChange:G,placeholder:"Select Type"}),e.jsx(N,{options:[{value:"all",label:"All Status",icon:e.jsx(Z,{className:"w-4 h-4"}),description:"Show all status types"},{value:"pending",label:"Pending",icon:e.jsx(E,{className:"w-4 h-4"}),description:"Awaiting review"},{value:"reviewed",label:"Reviewed",icon:e.jsx(L,{className:"w-4 h-4"}),description:"Under review"},{value:"resolved",label:"Resolved",icon:e.jsx(I,{className:"w-4 h-4"}),description:"Completed"}],value:p,onChange:U,placeholder:"Select Status"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.length," feedback",o.length!==1?"s":""]})})]}),e.jsxs("div",{className:"hidden sm:grid sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(w,{placeholder:"Search feedback...",value:d,onChange:s=>j(s.target.value),className:"pl-10"})]}),e.jsx(N,{options:[{value:"all",label:"All Types",icon:e.jsx(b,{className:"w-4 h-4"}),description:"Show all feedback types"},...D.map(s=>({value:s.value,label:s.label,icon:s.icon,description:s.description}))],value:h,onChange:G,placeholder:"Select Type"}),e.jsx(N,{options:[{value:"all",label:"All Status",icon:e.jsx(Z,{className:"w-4 h-4"}),description:"Show all status types"},{value:"pending",label:"Pending",icon:e.jsx(E,{className:"w-4 h-4"}),description:"Awaiting review"},{value:"reviewed",label:"Reviewed",icon:e.jsx(L,{className:"w-4 h-4"}),description:"Under review"},{value:"resolved",label:"Resolved",icon:e.jsx(I,{className:"w-4 h-4"}),description:"Completed"}],value:p,onChange:U,placeholder:"Select Status"}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.length," feedback",o.length!==1?"s":""]})})]})]})}),ne?e.jsx(ve,{items:5,itemComponent:we}):e.jsx("div",{className:"space-y-3",children:o.map(s=>e.jsx(O,{className:"hover:shadow-lg transition-shadow overflow-hidden",children:e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:s.title}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${_(s.status)}`,children:s.status}),e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded",children:s.type}),s.rating&&X(s.rating)]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{className:"truncate",children:["By ",s.submittedBy]}),e.jsx("span",{className:"flex-shrink-0",children:T(s.submittedAt)}),s.targetName&&e.jsxs("span",{className:"truncate",children:["About: ",s.targetName]})]})]}),e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>ce(s),className:"h-8 px-2",children:e.jsx(Z,{className:"w-3 h-3"})}),a?.role===l.ADMIN&&!s.response&&e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>K(W===s.id?null:s.id),className:"h-8 px-2 text-blue-600 hover:text-blue-700",children:e.jsx(b,{className:"w-3 h-3"})}),(a?.role===l.ADMIN||s.submittedById===a?.id)&&e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>me(s.id,s.title),className:"h-8 px-2 text-red-600 hover:text-red-700",children:e.jsx(be,{className:"w-3 h-3"})})]})]}),a?.role===l.ADMIN&&W===s.id&&!s.response&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{placeholder:"Type your reply...",value:R,onChange:t=>V(t.target.value),className:"flex-1 text-sm",onKeyDown:t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),Q(s.id))}}),e.jsx(c,{size:"sm",onClick:()=>Q(s.id),className:"h-8 px-3",children:e.jsx(te,{className:"w-3 h-3"})})]})}),s.response&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-2 border-blue-400 p-2 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(b,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"}),e.jsxs("span",{className:"text-xs font-medium text-blue-900 dark:text-blue-100",children:["Response from ",s.respondedBy]}),e.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:s.respondedAt&&T(s.respondedAt)})]}),e.jsx("p",{className:"text-blue-800 dark:text-blue-200 text-xs line-clamp-2",children:s.response})]})]})},s.id))}),o.length===0&&e.jsx(ke,{icon:I,title:"No feedback found",message:d||h!=="all"||p!=="all"?"Try adjusting your search criteria or filters to see more feedback.":"No feedback has been submitted yet. Share your thoughts to help improve the mentorship experience!",action:d||h!=="all"||p!=="all"?void 0:{label:"Give Your First Feedback",onClick:()=>k(!0),variant:"primary"}}),re&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:"Submit Feedback"}),e.jsx("button",{onClick:z,className:"min-w-[44px] min-h-[44px] flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(se,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[e.jsx("div",{children:e.jsx(N,{label:"Feedback Type *",value:n.type,onChange:s=>f(t=>({...t,type:s})),placeholder:"Select feedback type",options:D.filter(s=>s.allowedRoles.includes(a?.role))})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title *"}),e.jsx(w,{name:"title",value:n.title,onChange:P,placeholder:"Enter feedback title",required:!0})]}),["mentor","mentee","event"].includes(n.type)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target Name"}),e.jsx(w,{name:"targetName",value:n.targetName,onChange:P,placeholder:"Name of mentor/event"})]}),e.jsx("div",{children:e.jsx(N,{label:"Rating",value:String(n.rating),onChange:s=>f(t=>({...t,rating:Number(s)})),placeholder:"Select rating",options:[{value:"5",label:"5 - Excellent",icon:e.jsx(g,{className:"w-4 h-4"}),description:"Outstanding performance"},{value:"4",label:"4 - Very Good",icon:e.jsx(g,{className:"w-4 h-4"}),description:"Exceeds expectations"},{value:"3",label:"3 - Good",icon:e.jsx(g,{className:"w-4 h-4"}),description:"Meets expectations"},{value:"2",label:"2 - Fair",icon:e.jsx(g,{className:"w-4 h-4"}),description:"Below expectations"},{value:"1",label:"1 - Poor",icon:e.jsx(g,{className:"w-4 h-4"}),description:"Needs improvement"}]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Feedback Content *"}),e.jsx(Se,{value:n.content,onChange:oe,placeholder:"Share your detailed feedback...",height:"150px"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isAnonymous",name:"isAnonymous",checked:n.isAnonymous,onChange:P,className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("label",{htmlFor:"isAnonymous",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Submit anonymously"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-end gap-3 p-4 sm:p-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(c,{variant:"secondary",onClick:z,className:"min-w-[44px] min-h-[44px] w-full sm:w-auto",children:"Cancel"}),e.jsx(c,{onClick:de,className:"min-w-[44px] min-h-[44px] w-full sm:w-auto",children:"Submit Feedback"})]})]})}),le&&r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:"Feedback Details"}),e.jsx("button",{onClick:()=>F(!1),className:"min-w-[44px] min-h-[44px] flex items-center justify-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(se,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white break-words",children:r.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full capitalize whitespace-nowrap ${_(r.status)}`,children:r.status}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded capitalize whitespace-nowrap",children:r.type})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Submitted by:"}),e.jsx("p",{className:"text-gray-900 dark:text-white break-words",children:r.submittedBy})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Date:"}),e.jsx("p",{className:"text-gray-900 dark:text-white break-words",children:T(r.submittedAt)})]}),r.targetName&&e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"About:"}),e.jsx("p",{className:"text-gray-900 dark:text-white break-words",children:r.targetName})]}),r.rating&&e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Rating:"}),e.jsx("div",{className:"mt-1",children:X(r.rating)})]})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Content:"}),e.jsx("p",{className:"text-gray-900 dark:text-white mt-2 whitespace-pre-wrap break-words",children:r.content})]}),r.response&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 p-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),e.jsxs("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 break-words",children:["Response from ",r.respondedBy]}),e.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 whitespace-nowrap",children:r.respondedAt&&T(r.respondedAt)})]}),a?.role===l.ADMIN&&e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>{q(!S),S||B(r.response||"")},className:"text-blue-600 hover:text-blue-700",children:S?"Cancel":"Edit"})]}),S?e.jsxs("div",{className:"space-y-2",children:[e.jsx("textarea",{value:C,onChange:s=>B(s.target.value),className:"w-full p-2 border border-blue-300 dark:border-blue-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",rows:4}),e.jsxs(c,{size:"sm",onClick:()=>he(r.id),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(te,{className:"w-3 h-3 mr-1"}),"Save Changes"]})]}):e.jsx("p",{className:"text-blue-800 dark:text-blue-200 text-sm whitespace-pre-wrap break-words",children:r.response})]}),!r.response&&r.submittedById===a?.id&&e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 border-l-4 border-gray-300 dark:border-gray-600 p-4",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"No response yet. An admin will review your feedback soon."})})]}),e.jsx("div",{className:"flex justify-end p-4 sm:p-6 border-t border-gray-200 dark:border-gray-700",children:e.jsx(c,{onClick:()=>F(!1),className:"min-w-[44px] min-h-[44px] w-full sm:w-auto",children:"Close"})})]})}),e.jsx(Ne,{isOpen:A.isOpen,title:"Delete Feedback",message:`Are you sure you want to delete the feedback "${A.feedbackTitle}"? This action cannot be undone.`,onConfirm:xe,onCancel:ue,confirmText:"Delete Feedback",cancelText:"Cancel",confirmVariant:"danger"})]})};export{Me as FeedbackCenter};
