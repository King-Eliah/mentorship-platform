import{c as M,j as e,r as d,q as k,b as U,s as F,t as fe,v as c,X as Ne,w as we,I as L,p as V,C as S,g as R,m as ae,n as X,E as b,z as u,a as ke,R as W,S as Q}from"./index-DmCLvhFB.js";import{D as P}from"./DropdownSelect-Bvimj8bT.js";import{A as Ee,c as Se,a as Ce,b as De,D as Ae}from"./DetailsModal-3id6cJRv.js";import{C as Oe}from"./Modal-BQ2qUe9G.js";import{F as Fe}from"./FileUpload-ZXEr4lHA.js";import{a as re,b as Me,c as Ie}from"./useEvents-t_nL7qOl.js";import{u as le}from"./useAuth-CmnfCYBk.js";import{F as Te}from"./file-text-ChUXC2Os.js";import{U as Y}from"./user-check-B19KUKFk.js";import{X as ee}from"./x-circle-DVJVNisD.js";import{P as se}from"./plus-D_bTDaNg.js";import"./square-pen-CrIcEfJ9.js";import"./phone-bWBT4P2L.js";import"./upload-DXxW-GZO.js";import"./image-BK-eeTGI.js";import"./eventService-Deh23tCq.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=M("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=M("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=M("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=M("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=M("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),te=({label:m,error:r,options:C,className:p="",id:D,...x})=>{const v=D||`select-${Math.random().toString(36).substr(2,9)}`;return e.jsxs("div",{className:"space-y-1",children:[m&&e.jsx("label",{htmlFor:v,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:m}),e.jsx("select",{id:v,className:`
          w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm
          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
          dark:bg-gray-700 dark:border-gray-600 dark:text-white
          dark:focus:ring-primary-400 dark:focus:border-primary-400
          ${r?"border-red-300 focus:ring-red-500 focus:border-red-500":""}
          ${p}
        `,...x,children:C.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))}),r&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r})]})},Pe=({onClose:m,onSuccess:r})=>{const{createEvent:C,loading:p}=re(),{user:D}=le(),[x,v]=d.useState(1),[n,E]=d.useState({}),[j,A]=d.useState([]),[t,f]=d.useState({title:"",description:"",scheduledAt:"",duration:60,location:"",maxAttendees:10,type:k.SESSION,tags:"",prerequisites:"",objectives:"",resources:""}),i=()=>{const a={};return t.title.trim()?t.title.length<3?a.title="Title must be at least 3 characters":t.title.length>100&&(a.title="Title must be less than 100 characters"):a.title="Event title is required",t.description.trim()?t.description.length<10&&(a.description="Description must be at least 10 characters"):a.description="Description is required",t.scheduledAt?new Date(t.scheduledAt)<=new Date&&(a.scheduledAt="Event must be scheduled for a future date"):a.scheduledAt="Date and time are required",E(a),Object.keys(a).length===0},q=()=>{const a={};return t.duration<15?a.duration="Duration must be at least 15 minutes":t.duration>480&&(a.duration="Duration cannot exceed 8 hours"),t.maxAttendees<1?a.maxAttendees="At least 1 attendee is required":t.maxAttendees>100&&(a.maxAttendees="Maximum 100 attendees allowed"),t.location&&t.location.length>100&&(a.location="Location must be less than 100 characters"),E(a),Object.keys(a).length===0},h=a=>{const{name:l,value:y,type:T}=a.target;f(w=>({...w,[l]:T==="number"?parseInt(y)||0:y})),n[l]&&E(w=>({...w,[l]:void 0}))},g=()=>{i()&&v(2)},z=(a,l)=>{A(y=>[...y,{name:l,url:a}]),u.success("File uploaded successfully!")},I=a=>{u.error(`File upload failed: ${a}`)},O=()=>{v(1)},N=async a=>{if(a.preventDefault(),!!q())try{const l={title:t.title,description:t.description,scheduledAt:new Date(t.scheduledAt).toISOString(),duration:t.duration,location:t.location,maxAttendees:t.maxAttendees,type:t.type,status:b.SCHEDULED,organizerId:D?.id||"1"};await C.mutate(l),u.success("Event created successfully!"),r()}catch(l){u.error("Failed to create event. Please try again."),console.error(l)}},H=[{value:k.SESSION,label:"One-on-One Session",icon:e.jsx(U,{className:"w-4 h-4"}),description:"Individual mentoring session"},{value:k.WORKSHOP,label:"Workshop",icon:e.jsx($e,{className:"w-4 h-4"}),description:"Interactive learning workshop"},{value:k.GROUP_SESSION,label:"Group Session",icon:e.jsx(Re,{className:"w-4 h-4"}),description:"Group mentoring session"}],_=[{value:"30",label:"30 minutes"},{value:"60",label:"1 hour"},{value:"90",label:"1.5 hours"},{value:"120",label:"2 hours"},{value:"180",label:"3 hours"},{value:"240",label:"4 hours"}],B=[{value:"5",label:"5 people"},{value:"10",label:"10 people"},{value:"15",label:"15 people"},{value:"20",label:"20 people"},{value:"30",label:"30 people"},{value:"50",label:"50 people"}];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs(F,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs(fe,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create New Event"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Step ",x," of 2: ",x===1?"Basic Information":"Event Details"]})]}),e.jsx(c,{variant:"ghost",size:"sm",onClick:m,children:e.jsx(Ne,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-4",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x/2*100}%`}})})]}),e.jsx(we,{children:e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[x===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-lg font-medium text-gray-900 dark:text-white",children:[e.jsx(Te,{className:"w-5 h-5"}),e.jsx("span",{children:"Basic Information"})]}),e.jsx("div",{children:e.jsx(L,{name:"title",label:"Event Title",value:t.title,onChange:h,placeholder:"e.g., React Fundamentals Workshop",required:!0,error:n.title})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),e.jsx("textarea",{name:"description",rows:4,value:t.description,onChange:h,className:`w-full px-3 py-2 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 transition-colors ${n.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe what participants will learn and do in this event..."}),n.description&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(V,{className:"w-4 h-4 mr-1"}),n.description]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(P,{label:"Event Type",placeholder:"Select event type...",value:t.type,onChange:a=>f(l=>({...l,type:a})),options:H})}),e.jsx("div",{children:e.jsx(L,{name:"scheduledAt",label:"Date & Time",type:"datetime-local",value:t.scheduledAt,onChange:h,required:!0,error:n.scheduledAt,leftIcon:e.jsx(S,{className:"w-4 h-4"})})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (optional)"}),e.jsx(L,{name:"tags",value:t.tags,onChange:h,placeholder:"e.g., react, javascript, frontend (comma separated)",leftIcon:e.jsx(Le,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(c,{type:"button",onClick:g,className:"px-8",children:"Next Step"})})]}),x===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-lg font-medium text-gray-900 dark:text-white",children:[e.jsx(R,{className:"w-5 h-5"}),e.jsx("span",{children:"Event Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(te,{name:"duration",label:"Duration",value:t.duration.toString(),onChange:h,options:_,required:!0,error:n.duration})}),e.jsx("div",{children:e.jsx(te,{name:"maxAttendees",label:"Max Attendees",value:t.maxAttendees.toString(),onChange:h,options:B,error:n.maxAttendees})})]}),e.jsx("div",{children:e.jsx(L,{name:"location",label:"Location",value:t.location,onChange:h,placeholder:"Conference Room A, Zoom, or Google Meet",leftIcon:e.jsx(ae,{className:"w-4 h-4"}),error:n.location})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prerequisites (optional)"}),e.jsx("textarea",{name:"prerequisites",rows:3,value:t.prerequisites,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400",placeholder:"What should participants know before attending?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Learning Objectives (optional)"}),e.jsx("textarea",{name:"objectives",rows:3,value:t.objectives,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400",placeholder:"What will participants learn or achieve?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Resources & Materials (optional)"}),e.jsx("textarea",{name:"resources",rows:3,value:t.resources,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 mb-4",placeholder:"Links, documents, or materials participants should bring or access"}),e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"File Attachments (optional)"}),e.jsx(Fe,{onFileUpload:z,onError:I,acceptedTypes:["application/pdf",".doc",".docx",".ppt",".pptx",".txt","image/*"],maxSize:10,multiple:!0,showPreview:!0}),j.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Uploaded Files (",j.length,")"]}),e.jsx("div",{className:"space-y-2",children:j.map((a,l)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:a.name}),e.jsx(c,{type:"button",variant:"secondary",size:"sm",onClick:()=>A(y=>y.filter((T,w)=>w!==l)),children:"Remove"})]},l))})]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(c,{type:"button",variant:"secondary",onClick:O,children:"Back"}),e.jsx(c,{type:"submit",loading:p,className:"flex-1",disabled:Object.keys(n).length>0,children:p?"Creating Event...":e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Create Event"]})}),e.jsx(c,{type:"button",variant:"secondary",onClick:m,children:"Cancel"})]})]})]})})]})})};function ts(){const{user:m}=le(),{isDark:r}=ke(),[C,p]=d.useState(!1),[D,x]=d.useState(null),[v,n]=d.useState(!1),[E,j]=d.useState(!1),[A,t]=d.useState(null),f=m?.role===W.ADMIN||m?.role===W.MENTOR,[i,q]=d.useState({search:"",type:"all",status:"all",sortBy:"date",page:0,size:20}),{items:h,loading:g,error:z,hasMore:I,loadPage:O,refresh:N,retry:H}=Me(i),{data:_,execute:B}=Ie(D||""),a=h||[],l=_,{deleteEvent:y,joinEvent:T,leaveEvent:w,loading:K}=re(),[ne,J]=d.useState([]);d.useEffect(()=>{(()=>{const o=JSON.parse(localStorage.getItem("mentorconnect_joined_events")||"[]");J(o)})()},[]),d.useEffect(()=>{O(0)},[i.type,i.status,i.sortBy]),d.useEffect(()=>{const s=setTimeout(()=>{O(0)},500);return()=>clearTimeout(s)},[i.search]);const $=(s,o)=>{q(je=>({...je,[s]:o,page:0}))},ie=()=>{p(!1),N()},oe=async s=>{try{await y(s),j(!1),t(null),N(),u.success("Event deleted successfully!")}catch(o){console.error("Failed to delete event:",o),u.error("Failed to delete event.")}},ce=async s=>{if(m?.id)try{await T({eventId:s,userId:m.id});const o=JSON.parse(localStorage.getItem("mentorconnect_joined_events")||"[]");J(o),N(),window.dispatchEvent(new Event("joinedEventsUpdated")),u.success("Successfully joined the event!")}catch(o){console.error("Failed to join event:",o),u.error("Failed to join event.")}},de=async s=>{if(m?.id)try{await w({eventId:s,userId:m.id});const o=JSON.parse(localStorage.getItem("mentorconnect_joined_events")||"[]");J(o),N(),window.dispatchEvent(new Event("joinedEventsUpdated")),u.success("Successfully left the event!")}catch(o){console.error("Failed to leave event:",o),u.error("Failed to leave event.")}},me=s=>ne.includes(s),Z=s=>{x(s),n(!0),B()},he=s=>{console.log("Edit event:",s),u("Edit functionality coming soon!")},ue=s=>{t(s),j(!0)},xe=()=>{I&&!g&&O(i.page+1)},ge=s=>{switch(s){case b.SCHEDULED:return e.jsx(R,{className:"w-4 h-4 text-blue-500"});case b.COMPLETED:return e.jsx(X,{className:"w-4 h-4 text-green-500"});case b.CANCELLED:return e.jsx(ee,{className:"w-4 h-4 text-red-500"});default:return e.jsx(V,{className:"w-4 h-4 text-yellow-500"})}},pe=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ye=[{value:"all",label:"All Types",icon:e.jsx(S,{className:"w-4 h-4"}),description:"Show all event types"},{value:k.WORKSHOP,label:"Workshop",icon:e.jsx(U,{className:"w-4 h-4"}),description:"Interactive learning sessions"},{value:k.SESSION,label:"Session",icon:e.jsx(R,{className:"w-4 h-4"}),description:"1-on-1 mentoring sessions"},{value:k.GROUP_SESSION,label:"Group Session",icon:e.jsx(Y,{className:"w-4 h-4"}),description:"Group mentoring sessions"}],ve=[{value:"all",label:"All Status",icon:e.jsx(G,{className:"w-4 h-4"}),description:"Show all event statuses"},{value:b.SCHEDULED,label:"Scheduled",icon:e.jsx(S,{className:"w-4 h-4"}),description:"Upcoming events"},{value:b.COMPLETED,label:"Completed",icon:e.jsx(X,{className:"w-4 h-4"}),description:"Finished events"},{value:b.CANCELLED,label:"Cancelled",icon:e.jsx(ee,{className:"w-4 h-4"}),description:"Cancelled events"}],be=[{value:"date",label:"Sort by Date",icon:e.jsx(S,{className:"w-4 h-4"}),description:"Order by event date"},{value:"title",label:"Sort by Title",icon:e.jsx(Q,{className:"w-4 h-4"}),description:"Order alphabetically"},{value:"attendees",label:"Sort by Attendance",icon:e.jsx(U,{className:"w-4 h-4"}),description:"Order by participant count"}];return z&&!g?e.jsx("div",{className:`min-h-screen p-6 ${r?"bg-gray-900":"bg-gray-50"}`,children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(F,{className:`p-8 text-center ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx(V,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:`text-xl font-semibold mb-2 ${r?"text-white":"text-gray-900"}`,children:"Failed to Load Events"}),e.jsx("p",{className:`mb-4 ${r?"text-gray-300":"text-gray-600"}`,children:"We couldn't fetch the events. Please try again."}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsxs(c,{onClick:H,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Retry"]}),e.jsx(c,{onClick:()=>window.location.reload(),variant:"outline",children:"Refresh Page"})]})]})})}):e.jsx("div",{className:`min-h-screen p-6 ${r?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:`rounded-lg shadow-sm p-6 mb-6 ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Events"}),e.jsx("p",{className:`${r?"text-gray-400":"text-gray-600"}`,children:f?"Manage and participate in mentorship events":"Discover and join mentorship events"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(c,{onClick:N,variant:"outline",disabled:g,className:"flex items-center gap-2",children:[e.jsx(G,{className:`w-4 h-4 ${g?"animate-spin":""}`}),"Refresh"]}),f&&e.jsxs(c,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"Create Event"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search events...",value:i.search||"",onChange:s=>$("search",s.target.value),className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]})}),e.jsx(P,{placeholder:"Filter by type",options:ye,onChange:s=>$("type",s),value:i.type}),e.jsx(P,{placeholder:"Filter by status",options:ve,onChange:s=>$("status",s),value:i.status}),e.jsx(P,{placeholder:"Sort events",options:be,onChange:s=>$("sortBy",s),value:i.sortBy})]})]}),g&&a.length===0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((s,o)=>e.jsxs(F,{className:`p-6 animate-pulse ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:`h-4 rounded mb-2 ${r?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-3 rounded w-3/4 mb-4 ${r?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-3 rounded w-1/2 ${r?"bg-gray-700":"bg-gray-200"}`})]},o))}),a.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:a.map(s=>e.jsxs(F,{className:`p-6 hover:shadow-md transition-shadow ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[ge(s.status),e.jsx("span",{className:`text-sm capitalize ${r?"text-gray-400":"text-gray-600"}`,children:s.status.replace("_"," ")})]}),e.jsx(Ee,{actions:[Se(()=>Z(s.id)),Ce(()=>he(s.id)),De(()=>ue(s.id))]})]}),e.jsx("h3",{className:`font-semibold text-lg mb-2 ${r?"text-white":"text-gray-900"}`,children:s.title}),e.jsx("p",{className:`text-sm mb-4 line-clamp-2 ${r?"text-gray-300":"text-gray-600"}`,children:s.description}),e.jsxs("div",{className:`space-y-2 text-sm mb-4 ${r?"text-gray-400":"text-gray-600"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{children:pe(s.scheduledAt)})]}),s.location&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{children:s.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.currentAttendees||0,s.maxAttendees&&`/${s.maxAttendees}`," attendees"]})]}),s.duration&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.duration," minutes"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{size:"sm",variant:"outline",onClick:()=>Z(s.id),className:"flex-1",children:"View Details"}),s.status===b.SCHEDULED&&m?.role===W.MENTEE&&(me(s.id)?e.jsxs(c,{size:"sm",onClick:()=>de(s.id),disabled:K,className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(Ue,{className:"w-4 h-4 mr-1"}),"Leave"]}):e.jsxs(c,{size:"sm",onClick:()=>ce(s.id),disabled:K,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(Y,{className:"w-4 h-4 mr-1"}),"Join"]}))]})]},s.id))}),I&&e.jsx("div",{className:"text-center",children:e.jsx(c,{onClick:xe,disabled:g,variant:"outline",className:"px-8",children:g?"Loading...":"Load More Events"})})]}),!g&&a.length===0&&e.jsxs(F,{className:`p-12 text-center ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx(S,{className:`w-16 h-16 mx-auto mb-4 ${r?"text-gray-500":"text-gray-400"}`}),e.jsx("h3",{className:`text-lg font-semibold mb-2 ${r?"text-white":"text-gray-900"}`,children:"No Events Found"}),e.jsx("p",{className:`mb-6 ${r?"text-gray-400":"text-gray-500"}`,children:i.search||i.type!=="all"||i.status!=="all"?"Try adjusting your filters to see more events.":f?"No events have been created yet. Create the first one!":"No events are currently available."}),f&&e.jsxs(c,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Create Event"]})]}),C&&e.jsx(Pe,{onSuccess:ie,onClose:()=>p(!1)}),v&&l&&e.jsx(Ae,{isOpen:v,onClose:()=>{n(!1),x(null)},data:l,type:"event"}),E&&A&&e.jsx(Oe,{isOpen:E,title:"Delete Event",message:"Are you sure you want to delete this event? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:()=>oe(A),onClose:()=>{j(!1),t(null)},variant:"danger"})]})})}export{ts as default};
