import{r,x as i,y as a}from"./index-wzYYnU-P.js";import{e as s}from"./eventService-CNkPY_M6.js";function A(e={}){const[t,u]=r.useState([]),[c,o]=r.useState(0),[E]=r.useState(20),n=i(()=>s.getEvents(e),{loadingInitial:!0,showErrorToast:!0});r.useEffect(()=>{n.data&&Array.isArray(n.data)&&u(n.data)},[n.data]);const v=r.useCallback(h=>(o(h),n.execute()),[n.execute]),d=r.useCallback(()=>(o(0),n.execute()),[n.execute]),l=c*E+E,f=t.slice(0,l),g=l<t.length;return{items:f,loading:n.loading,error:n.error,hasMore:g,loadPage:v,refresh:d,retry:n.retry}}function C(e){const t=i(()=>s.getEventById(e),{showErrorToast:!0});return r.useEffect(()=>{e&&t.execute()},[e,t.execute]),t}function b(){return i(()=>s.getJoinedEvents(),{loadingInitial:!0,showErrorToast:!0})}function p(){return a(e=>s.createEvent(e),{showSuccessToast:!0,showErrorToast:!0,onSuccess:()=>{console.log("Event created successfully")}})}function w(){return a(e=>s.updateEvent(e.eventId,e.updates),{showSuccessToast:!0,showErrorToast:!0})}function T(){return a(e=>s.deleteEvent(e),{showSuccessToast:!0,showErrorToast:!0})}function x(){return a(({eventId:e,userId:t})=>s.joinEvent(e,t),{showSuccessToast:!0,showErrorToast:!0})}function S(){return a(({eventId:e,userId:t})=>s.leaveEvent(e,t),{showSuccessToast:!0,showErrorToast:!0})}function j(){const e=p(),t=w(),u=T(),c=x(),o=S();return{createEvent:e,updateEvent:t,deleteEvent:u.mutate,joinEvent:c.mutate,leaveEvent:o.mutate,loading:e.loading||t.loading||u.loading||c.loading||o.loading}}export{j as a,A as b,C as c,b as u};
