import{c as U,r as c,q as w,j as e,b as M,s as A,t as fe,v as o,X as Ne,w as we,I as T,p as V,C as k,g as $,m as ae,n as X,E as v,z as h,a as Ee,R as W,S as Q}from"./index-wzYYnU-P.js";import{D as L}from"./DropdownSelect-C4JxEsmL.js";import{A as ke,c as Se,a as Ce,b as De,D as Ae}from"./DetailsModal-Ckis0hci.js";import{C as Oe}from"./Modal-BFeH5Rjt.js";import{S as Y,R as G}from"./Select-DzPzvVj9.js";import{F as Fe}from"./FileUpload-BerulG5y.js";import{a as re,b as Ie,c as Te}from"./useEvents-CGyhjekc.js";import{u as le}from"./useAuth-gQqF4tG9.js";import{F as Me}from"./file-text-Cf0YeBCA.js";import{U as ee}from"./user-check-DpqbgYBT.js";import{X as se}from"./x-circle-D2a7sJqN.js";import{P as te}from"./plus-_tGHlXwb.js";import"./square-pen-C0XozYBw.js";import"./phone-Bgq4I3zK.js";import"./upload-CaDnr2vV.js";import"./image-BzKpCUV3.js";import"./eventService-CNkPY_M6.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=U("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=U("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=U("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=U("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]),Pe=({onClose:u,onSuccess:r})=>{const{createEvent:R,loading:y}=re(),{user:P}=le(),[p,S]=c.useState(1),[d,E]=c.useState({}),[b,C]=c.useState([]),[t,j]=c.useState({title:"",description:"",scheduledAt:"",duration:60,location:"",maxAttendees:10,type:w.SESSION,tags:"",prerequisites:"",objectives:"",resources:""}),n=()=>{const a={};return t.title.trim()?t.title.length<3?a.title="Title must be at least 3 characters":t.title.length>100&&(a.title="Title must be less than 100 characters"):a.title="Event title is required",t.description.trim()?t.description.length<10&&(a.description="Description must be at least 10 characters"):a.description="Description is required",t.scheduledAt?new Date(t.scheduledAt)<=new Date&&(a.scheduledAt="Event must be scheduled for a future date"):a.scheduledAt="Date and time are required",E(a),Object.keys(a).length===0},q=()=>{const a={};return t.duration<15?a.duration="Duration must be at least 15 minutes":t.duration>480&&(a.duration="Duration cannot exceed 8 hours"),t.maxAttendees<1?a.maxAttendees="At least 1 attendee is required":t.maxAttendees>100&&(a.maxAttendees="Maximum 100 attendees allowed"),t.location&&t.location.length>100&&(a.location="Location must be less than 100 characters"),E(a),Object.keys(a).length===0},m=a=>{const{name:l,value:g,type:F}=a.target;j(N=>({...N,[l]:F==="number"?parseInt(g)||0:g})),d[l]&&E(N=>({...N,[l]:void 0}))},x=()=>{n()&&S(2)},z=(a,l)=>{C(g=>[...g,{name:l,url:a}]),h.success("File uploaded successfully!")},O=a=>{h.error(`File upload failed: ${a}`)},D=()=>{S(1)},f=async a=>{if(a.preventDefault(),!!q())try{const l={title:t.title,description:t.description,scheduledAt:new Date(t.scheduledAt).toISOString(),duration:t.duration,location:t.location,maxAttendees:t.maxAttendees,type:t.type,status:v.SCHEDULED,organizerId:P?.id||"1"};await R.mutate(l),h.success("Event created successfully!"),r()}catch(l){h.error("Failed to create event. Please try again."),console.error(l)}},_=[{value:w.SESSION,label:"One-on-One Session",icon:e.jsx(M,{className:"w-4 h-4"}),description:"Individual mentoring session"},{value:w.WORKSHOP,label:"Workshop",icon:e.jsx($e,{className:"w-4 h-4"}),description:"Interactive learning workshop"},{value:w.GROUP_SESSION,label:"Group Session",icon:e.jsx(Re,{className:"w-4 h-4"}),description:"Group mentoring session"}],B=[{value:"30",label:"30 minutes"},{value:"60",label:"1 hour"},{value:"90",label:"1.5 hours"},{value:"120",label:"2 hours"},{value:"180",label:"3 hours"},{value:"240",label:"4 hours"}],H=[{value:"5",label:"5 people"},{value:"10",label:"10 people"},{value:"15",label:"15 people"},{value:"20",label:"20 people"},{value:"30",label:"30 people"},{value:"50",label:"50 people"}];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs(A,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs(fe,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create New Event"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Step ",p," of 2: ",p===1?"Basic Information":"Event Details"]})]}),e.jsx(o,{variant:"ghost",size:"sm",onClick:u,children:e.jsx(Ne,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-4",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${p/2*100}%`}})})]}),e.jsx(we,{children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[p===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-lg font-medium text-gray-900 dark:text-white",children:[e.jsx(Me,{className:"w-5 h-5"}),e.jsx("span",{children:"Basic Information"})]}),e.jsx("div",{children:e.jsx(T,{name:"title",label:"Event Title",value:t.title,onChange:m,placeholder:"e.g., React Fundamentals Workshop",required:!0,error:d.title})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),e.jsx("textarea",{name:"description",rows:4,value:t.description,onChange:m,className:`w-full px-3 py-2 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 transition-colors ${d.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe what participants will learn and do in this event..."}),d.description&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(V,{className:"w-4 h-4 mr-1"}),d.description]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(L,{label:"Event Type",placeholder:"Select event type...",value:t.type,onChange:a=>j(l=>({...l,type:a})),options:_})}),e.jsx("div",{children:e.jsx(T,{name:"scheduledAt",label:"Date & Time",type:"datetime-local",value:t.scheduledAt,onChange:m,required:!0,error:d.scheduledAt,leftIcon:e.jsx(k,{className:"w-4 h-4"})})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (optional)"}),e.jsx(T,{name:"tags",value:t.tags,onChange:m,placeholder:"e.g., react, javascript, frontend (comma separated)",leftIcon:e.jsx(Le,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(o,{type:"button",onClick:x,className:"px-8",children:"Next Step"})})]}),p===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-lg font-medium text-gray-900 dark:text-white",children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("span",{children:"Event Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(Y,{name:"duration",label:"Duration",value:t.duration.toString(),onChange:m,options:B,required:!0,error:d.duration})}),e.jsx("div",{children:e.jsx(Y,{name:"maxAttendees",label:"Max Attendees",value:t.maxAttendees.toString(),onChange:m,options:H,error:d.maxAttendees})})]}),e.jsx("div",{children:e.jsx(T,{name:"location",label:"Location",value:t.location,onChange:m,placeholder:"Conference Room A, Zoom, or Google Meet",leftIcon:e.jsx(ae,{className:"w-4 h-4"}),error:d.location})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prerequisites (optional)"}),e.jsx("textarea",{name:"prerequisites",rows:3,value:t.prerequisites,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400",placeholder:"What should participants know before attending?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Learning Objectives (optional)"}),e.jsx("textarea",{name:"objectives",rows:3,value:t.objectives,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400",placeholder:"What will participants learn or achieve?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Resources & Materials (optional)"}),e.jsx("textarea",{name:"resources",rows:3,value:t.resources,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 mb-4",placeholder:"Links, documents, or materials participants should bring or access"}),e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"File Attachments (optional)"}),e.jsx(Fe,{onFileUpload:z,onError:O,acceptedTypes:["application/pdf",".doc",".docx",".ppt",".pptx",".txt","image/*"],maxSize:10,multiple:!0,showPreview:!0}),b.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Uploaded Files (",b.length,")"]}),e.jsx("div",{className:"space-y-2",children:b.map((a,l)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:a.name}),e.jsx(o,{type:"button",variant:"secondary",size:"sm",onClick:()=>C(g=>g.filter((F,N)=>N!==l)),children:"Remove"})]},l))})]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(o,{type:"button",variant:"secondary",onClick:D,children:"Back"}),e.jsx(o,{type:"submit",loading:y,className:"flex-1",disabled:Object.keys(d).length>0,children:y?"Creating Event...":e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Create Event"]})}),e.jsx(o,{type:"button",variant:"secondary",onClick:u,children:"Cancel"})]})]})]})})]})})};function as(){const{user:u}=le(),{isDark:r}=Ee(),[R,y]=c.useState(!1),[P,p]=c.useState(null),[S,d]=c.useState(!1),[E,b]=c.useState(!1),[C,t]=c.useState(null),j=u?.role===W.ADMIN||u?.role===W.MENTOR,[n,q]=c.useState({search:"",type:"all",status:"all",sortBy:"date",page:0,size:20}),{items:m,loading:x,error:z,hasMore:O,loadPage:D,refresh:f,retry:_}=Ie(n),{data:B,execute:H}=Te(P||""),a=m||[],l=B,{deleteEvent:g,joinEvent:F,leaveEvent:N,loading:K}=re(),[ne,J]=c.useState([]);c.useEffect(()=>{(()=>{const i=JSON.parse(localStorage.getItem("mentorconnect_joined_events")||"[]");J(i)})()},[]),c.useEffect(()=>{D(0)},[n.type,n.status,n.sortBy]),c.useEffect(()=>{const s=setTimeout(()=>{D(0)},500);return()=>clearTimeout(s)},[n.search]);const I=(s,i)=>{q(je=>({...je,[s]:i,page:0}))},ie=()=>{y(!1),f()},oe=async s=>{try{await g(s),b(!1),t(null),f(),h.success("Event deleted successfully!")}catch(i){console.error("Failed to delete event:",i),h.error("Failed to delete event.")}},ce=async s=>{if(u?.id)try{await F({eventId:s,userId:u.id});const i=JSON.parse(localStorage.getItem("mentorconnect_joined_events")||"[]");J(i),f(),window.dispatchEvent(new Event("joinedEventsUpdated")),h.success("Successfully joined the event!")}catch(i){console.error("Failed to join event:",i),h.error("Failed to join event.")}},de=async s=>{if(u?.id)try{await N({eventId:s,userId:u.id});const i=JSON.parse(localStorage.getItem("mentorconnect_joined_events")||"[]");J(i),f(),window.dispatchEvent(new Event("joinedEventsUpdated")),h.success("Successfully left the event!")}catch(i){console.error("Failed to leave event:",i),h.error("Failed to leave event.")}},me=s=>ne.includes(s),Z=s=>{p(s),d(!0),H()},he=s=>{console.log("Edit event:",s),h("Edit functionality coming soon!")},ue=s=>{t(s),b(!0)},xe=()=>{O&&!x&&D(n.page+1)},ge=s=>{switch(s){case v.SCHEDULED:return e.jsx($,{className:"w-4 h-4 text-blue-500"});case v.COMPLETED:return e.jsx(X,{className:"w-4 h-4 text-green-500"});case v.CANCELLED:return e.jsx(se,{className:"w-4 h-4 text-red-500"});default:return e.jsx(V,{className:"w-4 h-4 text-yellow-500"})}},pe=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ve=[{value:"all",label:"All Types",icon:e.jsx(k,{className:"w-4 h-4"}),description:"Show all event types"},{value:w.WORKSHOP,label:"Workshop",icon:e.jsx(M,{className:"w-4 h-4"}),description:"Interactive learning sessions"},{value:w.SESSION,label:"Session",icon:e.jsx($,{className:"w-4 h-4"}),description:"1-on-1 mentoring sessions"},{value:w.GROUP_SESSION,label:"Group Session",icon:e.jsx(ee,{className:"w-4 h-4"}),description:"Group mentoring sessions"}],ye=[{value:"all",label:"All Status",icon:e.jsx(G,{className:"w-4 h-4"}),description:"Show all event statuses"},{value:v.SCHEDULED,label:"Scheduled",icon:e.jsx(k,{className:"w-4 h-4"}),description:"Upcoming events"},{value:v.COMPLETED,label:"Completed",icon:e.jsx(X,{className:"w-4 h-4"}),description:"Finished events"},{value:v.CANCELLED,label:"Cancelled",icon:e.jsx(se,{className:"w-4 h-4"}),description:"Cancelled events"}],be=[{value:"date",label:"Sort by Date",icon:e.jsx(k,{className:"w-4 h-4"}),description:"Order by event date"},{value:"title",label:"Sort by Title",icon:e.jsx(Q,{className:"w-4 h-4"}),description:"Order alphabetically"},{value:"attendees",label:"Sort by Attendance",icon:e.jsx(M,{className:"w-4 h-4"}),description:"Order by participant count"}];return z&&!x?e.jsx("div",{className:`min-h-screen p-6 ${r?"bg-gray-900":"bg-gray-50"}`,children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(A,{className:`p-8 text-center ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx(V,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:`text-xl font-semibold mb-2 ${r?"text-white":"text-gray-900"}`,children:"Failed to Load Events"}),e.jsx("p",{className:`mb-4 ${r?"text-gray-300":"text-gray-600"}`,children:"We couldn't fetch the events. Please try again."}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsxs(o,{onClick:_,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Retry"]}),e.jsx(o,{onClick:()=>window.location.reload(),variant:"outline",children:"Refresh Page"})]})]})})}):e.jsx("div",{className:`min-h-screen p-6 ${r?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:`rounded-lg shadow-sm p-6 mb-6 ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-2xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Events"}),e.jsx("p",{className:`${r?"text-gray-400":"text-gray-600"}`,children:j?"Manage and participate in mentorship events":"Discover and join mentorship events"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(o,{onClick:f,variant:"outline",disabled:x,className:"flex items-center gap-2",children:[e.jsx(G,{className:`w-4 h-4 ${x?"animate-spin":""}`}),"Refresh"]}),j&&e.jsxs(o,{onClick:()=>y(!0),className:"bg-blue-600 hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4"}),"Create Event"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search events...",value:n.search||"",onChange:s=>I("search",s.target.value),className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]})}),e.jsx(L,{placeholder:"Filter by type",options:ve,onChange:s=>I("type",s),value:n.type}),e.jsx(L,{placeholder:"Filter by status",options:ye,onChange:s=>I("status",s),value:n.status}),e.jsx(L,{placeholder:"Sort events",options:be,onChange:s=>I("sortBy",s),value:n.sortBy})]})]}),x&&a.length===0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((s,i)=>e.jsxs(A,{className:`p-6 animate-pulse ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("div",{className:`h-4 rounded mb-2 ${r?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-3 rounded w-3/4 mb-4 ${r?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-3 rounded w-1/2 ${r?"bg-gray-700":"bg-gray-200"}`})]},i))}),a.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:a.map(s=>e.jsxs(A,{className:`p-6 hover:shadow-md transition-shadow ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[ge(s.status),e.jsx("span",{className:`text-sm capitalize ${r?"text-gray-400":"text-gray-600"}`,children:s.status.replace("_"," ")})]}),e.jsx(ke,{actions:[Se(()=>Z(s.id)),Ce(()=>he(s.id)),De(()=>ue(s.id))]})]}),e.jsx("h3",{className:`font-semibold text-lg mb-2 ${r?"text-white":"text-gray-900"}`,children:s.title}),e.jsx("p",{className:`text-sm mb-4 line-clamp-2 ${r?"text-gray-300":"text-gray-600"}`,children:s.description}),e.jsxs("div",{className:`space-y-2 text-sm mb-4 ${r?"text-gray-400":"text-gray-600"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:pe(s.scheduledAt)})]}),s.location&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{children:s.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.currentAttendees||0,s.maxAttendees&&`/${s.maxAttendees}`," attendees"]})]}),s.duration&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.duration," minutes"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{size:"sm",variant:"outline",onClick:()=>Z(s.id),className:"flex-1",children:"View Details"}),s.status===v.SCHEDULED&&u?.role===W.MENTEE&&(me(s.id)?e.jsxs(o,{size:"sm",onClick:()=>de(s.id),disabled:K,className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(Ue,{className:"w-4 h-4 mr-1"}),"Leave"]}):e.jsxs(o,{size:"sm",onClick:()=>ce(s.id),disabled:K,className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(ee,{className:"w-4 h-4 mr-1"}),"Join"]}))]})]},s.id))}),O&&e.jsx("div",{className:"text-center",children:e.jsx(o,{onClick:xe,disabled:x,variant:"outline",className:"px-8",children:x?"Loading...":"Load More Events"})})]}),!x&&a.length===0&&e.jsxs(A,{className:`p-12 text-center ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx(k,{className:`w-16 h-16 mx-auto mb-4 ${r?"text-gray-500":"text-gray-400"}`}),e.jsx("h3",{className:`text-lg font-semibold mb-2 ${r?"text-white":"text-gray-900"}`,children:"No Events Found"}),e.jsx("p",{className:`mb-6 ${r?"text-gray-400":"text-gray-500"}`,children:n.search||n.type!=="all"||n.status!=="all"?"Try adjusting your filters to see more events.":j?"No events have been created yet. Create the first one!":"No events are currently available."}),j&&e.jsxs(o,{onClick:()=>y(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Create Event"]})]}),R&&e.jsx(Pe,{onSuccess:ie,onClose:()=>y(!1)}),S&&l&&e.jsx(Ae,{isOpen:S,onClose:()=>{d(!1),p(null)},data:l,type:"event"}),E&&C&&e.jsx(Oe,{isOpen:E,title:"Delete Event",message:"Are you sure you want to delete this event? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:()=>oe(C),onClose:()=>{b(!1),t(null)},variant:"danger"})]})})}export{as as default};
