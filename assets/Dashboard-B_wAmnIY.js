import{c as H,r as h,f as G,u as q,a as w,j as e,M as xe,U as z,X as ue,S as he,B as oe,b as _,C as D,d as k,e as be,R as v,g as A,E as F,G as j,T as L,h as R,i as f,k as Z,l as ye,m as pe,A as ee,n as O,o as J,p as te,z as se}from"./index-C3bYRuX8.js";import{S as fe}from"./share-2-Cz5nGeGm.js";import{e as re}from"./eventService-CfFX-WJE.js";import{g as W}from"./goalService-Cc4nE7Bo.js";import{A as Q}from"./award-Dbgy36_u.js";import{U as ie}from"./user-check-CYtRcOFm.js";import{a as ve}from"./activityService-BtrpgC1q.js";import{T as I}from"./trending-up-CL5Zk-w8.js";import{u as B}from"./useAuth-DVXHBEW0.js";import{u as Ne}from"./useEvents-D3Z5C8KM.js";import{X as ce}from"./x-circle-DumKt0gs.js";import{S as ae}from"./star-CgkdF8Sa.js";import{D as je}from"./DropdownSelect-CNY5rweM.js";import{P as ne}from"./plus-BFsSpJWr.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=H("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=H("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=H("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=H("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);function Ee(){const[t,a]=h.useState(null),[s,n]=h.useState(!0),[c,l]=h.useState(null),g=async()=>{try{n(!0),l(null);const r=await G.getDashboardStats();a(r)}catch(r){l(r instanceof Error?r.message:"Failed to load dashboard stats")}finally{n(!1)}};return h.useEffect(()=>{g()},[]),{stats:t,loading:s,error:c,refresh:g}}function $e(){const[t,a]=h.useState(null),[s,n]=h.useState(!0),[c,l]=h.useState(null),g=async()=>{try{n(!0),l(null);const r=await G.getAnalytics();a(r)}catch(r){l(r instanceof Error?r.message:"Failed to load analytics")}finally{n(!1)}};return h.useEffect(()=>{g()},[]),{data:t,loading:s,error:c,refresh:g}}const U={container:{all:"w-full mx-auto px-4 sm:px-6 md:px-8 sm:max-w-screen-sm md:max-w-screen-md lg:max-w-screen-lg xl:max-w-screen-xl"},spacing:{section:"py-6 sm:py-8 md:py-12"},nav:{mobile:"block sm:hidden"}},Se=({currentPage:t})=>{const[a,s]=h.useState(!1),{user:n,logout:c}=q(),{isDark:l,toggleTheme:g}=w(),r=[{name:"Dashboard",href:"/dashboard",icon:we},{name:"Groups",href:"/groups",icon:_},{name:"Events",href:"/events",icon:D},{name:"Messages",href:"/messages",icon:k},{name:"Profile",href:"/profile",icon:z},{name:"Settings",href:"/settings",icon:be}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${U.nav.mobile} fixed top-4 left-4 z-50`,children:e.jsx("button",{onClick:()=>s(!0),className:`p-3 rounded-lg ${l?"bg-gray-800 text-white":"bg-white text-gray-900"} shadow-lg border ${l?"border-gray-700":"border-gray-200"}`,children:e.jsx(xe,{className:"w-6 h-6"})})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 lg:hidden",onClick:()=>s(!1)}),e.jsx("div",{className:`
        ${U.nav.mobile}
        fixed inset-y-0 left-0 z-50 w-80 max-w-sm transform transition-transform duration-300 ease-in-out
        ${a?"translate-x-0":"-translate-x-full"}
        ${l?"bg-gray-900":"bg-white"}
        border-r ${l?"border-gray-700":"border-gray-200"}
        shadow-xl
      `,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${l?"border-gray-700":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full ${l?"bg-gray-700":"bg-gray-100"} flex items-center justify-center`,children:e.jsx(z,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("p",{className:`font-medium ${l?"text-white":"text-gray-900"}`,children:[n?.firstName," ",n?.lastName]}),e.jsx("p",{className:`text-sm ${l?"text-gray-400":"text-gray-500"}`,children:n?.role})]})]}),e.jsx("button",{onClick:()=>s(!1),className:`p-2 rounded-lg ${l?"hover:bg-gray-800":"hover:bg-gray-100"} transition-colors`,children:e.jsx(ue,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("button",{className:`flex items-center justify-center p-3 rounded-lg ${l?"bg-gray-800 hover:bg-gray-700":"bg-gray-50 hover:bg-gray-100"} transition-colors`,children:[e.jsx(he,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"text-sm",children:"Search"})]}),e.jsxs("button",{className:`flex items-center justify-center p-3 rounded-lg ${l?"bg-gray-800 hover:bg-gray-700":"bg-gray-50 hover:bg-gray-100"} transition-colors relative`,children:[e.jsx(oe,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"text-sm",children:"Alerts"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]})]})}),e.jsx("nav",{className:"flex-1 p-4",children:e.jsx("ul",{className:"space-y-2",children:r.map(o=>{const i=t===o.name.toLowerCase();return e.jsx("li",{children:e.jsxs("a",{href:o.href,className:`flex items-center p-3 rounded-lg transition-colors ${i?l?"bg-blue-900 text-blue-100":"bg-blue-50 text-blue-700":l?"text-gray-300 hover:bg-gray-800 hover:text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>s(!1),children:[e.jsx(o.icon,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"font-medium",children:o.name})]})},o.name)})})}),e.jsx("div",{className:`p-4 border-t ${l?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:g,className:`w-full flex items-center p-3 rounded-lg ${l?"bg-gray-800 hover:bg-gray-700":"bg-gray-50 hover:bg-gray-100"} transition-colors`,children:[e.jsx("div",{className:"w-5 h-5 mr-3",children:l?"🌙":"☀️"}),e.jsx("span",{className:"font-medium",children:l?"Dark Mode":"Light Mode"})]}),e.jsxs("button",{onClick:()=>{c(),s(!1)},className:"w-full flex items-center p-3 rounded-lg text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[e.jsx("span",{className:"w-5 h-5 mr-3",children:"🚪"}),e.jsx("span",{className:"font-medium",children:"Logout"})]})]})})]})}),e.jsx("div",{className:`
        ${U.nav.mobile}
        fixed bottom-0 left-0 right-0 z-40
        ${l?"bg-gray-900 border-gray-700":"bg-white border-gray-200"}
        border-t shadow-lg
      `,children:e.jsx("nav",{className:"flex justify-around py-2",children:r.slice(0,5).map(o=>{const i=t===o.name.toLowerCase();return e.jsxs("a",{href:o.href,className:`flex flex-col items-center py-2 px-3 rounded-lg transition-colors ${i?l?"text-blue-400":"text-blue-600":l?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-900"}`,children:[e.jsx(o.icon,{className:"w-5 h-5 mb-1"}),e.jsx("span",{className:"text-xs font-medium",children:o.name})]},o.name)})})})]})},Me=({dashboardStats:t})=>{const{user:a}=q(),{isDark:s}=w(),n=()=>{const o=new Date().getHours(),i=o<12?"Good morning":o<18?"Good afternoon":"Good evening",d={[v.ADMIN]:"Ready to manage the platform today?",[v.MENTOR]:"Ready to guide and inspire today?",[v.MENTEE]:"Ready to learn and grow today?",[v.PENDING]:"Your account is pending approval."};return{greeting:`${i}, ${a?.firstName||"User"}!`,message:d[a?.role]||"Welcome to your dashboard!"}},c=()=>{switch(a?.role){case v.ADMIN:return[{icon:z,label:"Manage Users",href:"/users",count:t?.totalUsers},{icon:K,label:"View Events",href:"/events",count:t?.totalEvents},{icon:A,label:"Session Logs",href:"/sessions",count:t?.totalSessions}];case v.MENTOR:return[{icon:_,label:"My Group",href:"/groups"},{icon:K,label:"Create Event",href:"/events"},{icon:fe,label:"Share Resources",href:"/resources/share"}];case v.MENTEE:return[{icon:z,label:"Groups",href:"/groups"},{icon:K,label:"Join Events",href:"/events"},{icon:k,label:"Messages",href:"/messages"}];default:return[]}},{greeting:l,message:g}=n(),r=c();return e.jsxs("div",{className:`${s?"bg-gray-800":"bg-white"} rounded-lg shadow-sm border ${s?"border-gray-700":"border-gray-200"} p-4 sm:p-6 mb-6`,children:[e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("h1",{className:`text-xl sm:text-2xl md:text-3xl font-bold ${s?"text-white":"text-gray-900"} mb-2`,children:l}),e.jsx("p",{className:`text-sm sm:text-base ${s?"text-gray-300":"text-gray-600"}`,children:g})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:r.map((o,i)=>o.action?e.jsxs("button",{onClick:o.action,className:`flex items-center p-3 sm:p-4 text-left ${s?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} rounded-lg transition-colors duration-200 group`,children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 ${s?"bg-blue-900/50 group-hover:bg-blue-800/50":"bg-blue-100 group-hover:bg-blue-200"} rounded-lg flex items-center justify-center transition-colors`,children:e.jsx(o.icon,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-3 sm:ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm sm:text-base font-medium ${s?"text-white":"text-gray-900"} truncate`,children:o.label}),o.count!==void 0&&e.jsxs("p",{className:`text-xs sm:text-sm ${s?"text-gray-400":"text-gray-500"} mt-1`,children:[o.count," items"]})]})]},i):e.jsxs("a",{href:o.href,className:`flex items-center p-3 sm:p-4 ${s?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} rounded-lg transition-colors duration-200 group`,children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 ${s?"bg-blue-900/50 group-hover:bg-blue-800/50":"bg-blue-100 group-hover:bg-blue-200"} rounded-lg flex items-center justify-center transition-colors`,children:e.jsx(o.icon,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-3 sm:ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm sm:text-base font-medium ${s?"text-white":"text-gray-900"} truncate`,children:o.label}),o.count!==void 0&&e.jsxs("p",{className:`text-xs sm:text-sm ${s?"text-gray-400":"text-gray-500"} mt-1`,children:[o.count," items"]})]})]},i))})]})},Ae=({title:t,value:a,icon:s,change:n,changeType:c="neutral",subtitle:l,loading:g=!1})=>{const{isDark:r}=w(),{user:o}=q();if(g)return e.jsx("div",{className:`${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} rounded-lg shadow-sm border p-6`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`h-4 ${r?"bg-gray-600":"bg-gray-200"} rounded w-24`}),e.jsx("div",{className:`h-8 w-8 ${r?"bg-gray-600":"bg-gray-200"} rounded-lg`})]}),e.jsx("div",{className:`h-8 ${r?"bg-gray-600":"bg-gray-200"} rounded w-16 mb-2`}),e.jsx("div",{className:`h-3 ${r?"bg-gray-600":"bg-gray-200"} rounded w-20`})]})});const i=o?.role===v.MENTEE,d=o?.role===v.MENTOR,b=o?.role===v.ADMIN,m=()=>{if(i){if(t==="Active Goals")return r?"bg-gradient-to-br from-blue-500/20 to-blue-600/20":"bg-gradient-to-br from-blue-50 to-blue-100";if(t==="Achievements")return r?"bg-gradient-to-br from-yellow-500/20 to-amber-600/20":"bg-gradient-to-br from-yellow-50 to-amber-100";if(t==="Events Joined")return r?"bg-gradient-to-br from-purple-500/20 to-purple-600/20":"bg-gradient-to-br from-purple-50 to-purple-100";if(t==="Upcoming Events")return r?"bg-gradient-to-br from-green-500/20 to-green-600/20":"bg-gradient-to-br from-green-50 to-green-100"}if(d){if(t==="Active Mentees")return r?"bg-gradient-to-br from-indigo-500/20 to-indigo-600/20":"bg-gradient-to-br from-indigo-50 to-indigo-100";if(t==="Upcoming Sessions")return r?"bg-gradient-to-br from-cyan-500/20 to-cyan-600/20":"bg-gradient-to-br from-cyan-50 to-cyan-100";if(t==="Sessions Completed")return r?"bg-gradient-to-br from-emerald-500/20 to-emerald-600/20":"bg-gradient-to-br from-emerald-50 to-emerald-100";if(t==="Messages")return r?"bg-gradient-to-br from-rose-500/20 to-rose-600/20":"bg-gradient-to-br from-rose-50 to-rose-100"}if(b){if(t==="Total Users")return r?"bg-gradient-to-br from-violet-500/20 to-violet-600/20":"bg-gradient-to-br from-violet-50 to-violet-100";if(t==="Active Mentors")return r?"bg-gradient-to-br from-blue-500/20 to-blue-600/20":"bg-gradient-to-br from-blue-50 to-blue-100";if(t==="Total Sessions")return r?"bg-gradient-to-br from-teal-500/20 to-teal-600/20":"bg-gradient-to-br from-teal-50 to-teal-100";if(t==="Total Events")return r?"bg-gradient-to-br from-orange-500/20 to-orange-600/20":"bg-gradient-to-br from-orange-50 to-orange-100"}return r?"bg-blue-900/20":"bg-blue-50"},x=()=>{if(i){if(t==="Active Goals")return"text-blue-600";if(t==="Achievements")return"text-yellow-600";if(t==="Events Joined")return"text-purple-600";if(t==="Upcoming Events")return"text-green-600"}if(d){if(t==="Active Mentees")return"text-indigo-600";if(t==="Upcoming Sessions")return"text-cyan-600";if(t==="Sessions Completed")return"text-emerald-600";if(t==="Messages")return"text-rose-600"}if(b){if(t==="Total Users")return"text-violet-600";if(t==="Active Mentors")return"text-blue-600";if(t==="Total Sessions")return"text-teal-600";if(t==="Total Events")return"text-orange-600"}return"text-blue-600"};return e.jsxs("div",{className:`${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} rounded-xl shadow-sm border p-4 sm:p-6 hover:shadow-lg transition-all duration-300 hover:-translate-y-1 relative overflow-hidden`,children:[e.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-5 ${r?"opacity-10":""}`,children:e.jsx(s,{className:"w-full h-full"})}),e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4 relative z-10",children:[e.jsx("h3",{className:`text-xs sm:text-sm font-semibold ${r?"text-gray-300":"text-gray-600"}`,children:t}),e.jsx("div",{className:`p-2 sm:p-2.5 ${m()} rounded-xl shadow-sm`,children:e.jsx(s,{className:`w-5 h-5 sm:w-6 sm:h-6 ${x()}`})})]}),e.jsxs("div",{className:"flex items-baseline justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-2xl sm:text-3xl font-bold ${r?"text-white":"text-gray-900"} mb-1`,children:typeof a=="number"?a.toLocaleString():a}),l&&e.jsx("p",{className:`text-xs sm:text-sm ${r?"text-gray-400":"text-gray-500"}`,children:l})]}),n&&e.jsx("span",{className:`text-xs sm:text-sm font-semibold px-2 py-1 rounded-full ${c==="positive"?r?"bg-green-900/30 text-green-400":"bg-green-100 text-green-700":c==="negative"?r?"bg-red-900/30 text-red-400":"bg-red-100 text-red-700":r?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-600"}`,children:n})]})]})},Ce=({loading:t=!1,dashboardData:a={}})=>{const{user:s}=q(),[n,c]=h.useState({activeGoals:0,completedGoals:0,joinedEventsCount:0,upcomingEventsThisWeek:0}),[l,g]=h.useState({activeMentees:0,upcomingSessions:0,completedSessions:0});h.useEffect(()=>{(async()=>{if(s?.role===v.MENTEE)try{const d=await re.getJoinedEvents(),b=d.length,m=new Date,x=new Date(m.getTime()+10080*60*1e3),y=d.filter(p=>{const M=new Date(p.scheduledAt);return p.status===F.SCHEDULED&&M>=m&&M<=x}).length,N=await W.getGoals(s.id),S=N.filter(p=>p.status!==j.COMPLETED).length,C=N.filter(p=>p.status===j.COMPLETED).length;c({activeGoals:S,completedGoals:C,joinedEventsCount:b,upcomingEventsThisWeek:y})}catch(d){console.error("Failed to fetch mentee stats:",d)}})()},[s]),h.useEffect(()=>{(async()=>{if(s?.role===v.MENTOR)try{const m=(await G.getGroups()).find(p=>p.mentorId===s.id)?.members?.length||0,x=await re.getEvents({}),y=new Date,N=new Date(y.getTime()+10080*60*1e3),S=x.filter(p=>{const M=new Date(p.scheduledAt);return p.organizerId===s.id&&M>=y&&M<=N&&p.status!==F.CANCELLED}).length,C=x.filter(p=>p.organizerId===s.id&&p.status===F.COMPLETED).length;g({activeMentees:m,upcomingSessions:S,completedSessions:C})}catch(d){console.error("Failed to fetch mentor stats:",d)}})()},[s]);const o=(()=>{switch(s?.role){case v.ADMIN:return[{title:"Total Users",value:a.totalUsers||0,icon:_,change:"+12%",changeType:"positive",subtitle:"Active platform users"},{title:"Active Mentors",value:a.totalMentors||0,icon:ie,change:"+8%",changeType:"positive",subtitle:"Available for mentoring"},{title:"Total Sessions",value:a.totalSessions||0,icon:D,change:"+15%",changeType:"positive",subtitle:"Completed this month"},{title:"Total Events",value:a.totalEvents||0,icon:le,change:"+5%",changeType:"positive",subtitle:"Organized events"}];case v.MENTOR:return[{title:"Active Mentees",value:l.activeMentees,icon:_,subtitle:"Currently mentoring",change:l.activeMentees>0?`${l.activeMentees} mentees`:void 0,changeType:"positive"},{title:"Upcoming Sessions",value:l.upcomingSessions,icon:A,subtitle:"Scheduled this week",change:l.upcomingSessions>0?"This week":void 0,changeType:"neutral"},{title:"Sessions Completed",value:l.completedSessions,icon:Q,subtitle:"Total completed",change:l.completedSessions>0?`${l.completedSessions} total`:void 0,changeType:"positive"},{title:"Messages",value:a.totalMessages||0,icon:k,subtitle:"Unread conversations",change:void 0,changeType:"neutral"}];case v.MENTEE:return[{title:"Active Goals",value:n.activeGoals,icon:L,change:n.activeGoals>0?`${n.activeGoals} active`:void 0,changeType:"positive",subtitle:"Goals in progress"},{title:"Achievements",value:n.completedGoals,icon:Q,change:n.completedGoals>0?`+${n.completedGoals} completed`:void 0,changeType:"positive",subtitle:"Goals completed"},{title:"Events Joined",value:n.joinedEventsCount,icon:le,change:n.joinedEventsCount>0?"Keep it up!":void 0,changeType:"neutral",subtitle:"Total participation"},{title:"Upcoming Events",value:n.upcomingEventsThisWeek,icon:A,change:n.upcomingEventsThisWeek>0?"This week":void 0,changeType:"neutral",subtitle:n.upcomingEventsThisWeek===1?"Event scheduled":"Events scheduled"}];default:return[]}})();return e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:o.map((i,d)=>e.jsx(Ae,{title:i.title,value:i.value,icon:i.icon,change:i.change,changeType:i.changeType,subtitle:i.subtitle,loading:t},d))})})},Te=({loading:t=!1,activities:a=[]})=>{const{isDark:s}=w(),n=R(),[c,l]=h.useState([]),[g,r]=h.useState(!0);h.useEffect(()=>{const x=async()=>{try{r(!0);const y=await ve.getRecentActivities(3);l(y)}catch(y){console.error("Failed to load activities:",y),l([])}finally{r(!1)}};a.length===0&&x()},[a.length]);const o=a.length>0?a:c,i=t||g,d=x=>{switch(x){case f.LEARNING_ACTIVITY_COMPLETED:case f.LEARNING_ACTIVITY_STARTED:return Z;case f.MENTORING_SESSION_COMPLETED:return D;case f.GOAL_COMPLETED:case f.ACHIEVEMENT_EARNED:return Q;case f.EVENT_ATTENDED:case f.EVENT_CREATED:return oe;case f.CONNECTION_MADE:case f.GROUP_JOINED:return ye;case f.RESOURCE_SHARED:case f.RESOURCE_ACCESSED:return Z;default:return A}},b=x=>{if(x.color)return x.color;switch(x.type){case f.LEARNING_ACTIVITY_COMPLETED:case f.LEARNING_ACTIVITY_STARTED:return"bg-blue-100 text-blue-600";case f.MENTORING_SESSION_COMPLETED:return"bg-green-100 text-green-600";case f.GOAL_COMPLETED:case f.ACHIEVEMENT_EARNED:return"bg-yellow-100 text-yellow-600";case f.EVENT_ATTENDED:case f.EVENT_CREATED:return"bg-purple-100 text-purple-600";case f.CONNECTION_MADE:case f.GROUP_JOINED:return"bg-indigo-100 text-indigo-600";case f.RESOURCE_SHARED:case f.RESOURCE_ACCESSED:return"bg-pink-100 text-pink-600";default:return"bg-gray-100 text-gray-600"}},m=()=>e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(x=>e.jsxs("div",{className:"animate-pulse flex items-start space-x-3",children:[e.jsx("div",{className:`w-10 h-10 ${s?"bg-gray-600":"bg-gray-200"} rounded-lg`}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:`h-4 ${s?"bg-gray-600":"bg-gray-200"} rounded w-3/4`}),e.jsx("div",{className:`h-3 ${s?"bg-gray-600":"bg-gray-200"} rounded w-1/2`}),e.jsx("div",{className:`h-3 ${s?"bg-gray-600":"bg-gray-200"} rounded w-1/4`})]})]},x))});return e.jsxs("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} rounded-lg shadow-sm border p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Recent Activity"}),e.jsx("button",{onClick:()=>n("/activities"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"View All"})]}),i?e.jsx(m,{}):e.jsx("div",{className:"space-y-4",children:o.map(x=>{const y=d(x.type),N=b(x);return e.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg ${s?"hover:bg-gray-700":"hover:bg-gray-50"} transition-colors duration-150`,children:[e.jsx("div",{className:`p-2 rounded-lg ${N}`,children:e.jsx(y,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:`text-sm font-medium ${s?"text-white":"text-gray-900"} truncate`,children:x.title}),e.jsx("span",{className:`text-xs ${s?"text-gray-400":"text-gray-500"} whitespace-nowrap ml-2`,children:new Date(x.timestamp).toLocaleDateString()})]}),e.jsx("p",{className:`text-sm ${s?"text-gray-300":"text-gray-600"} mb-1`,children:x.description}),e.jsxs("p",{className:`text-xs ${s?"text-gray-400":"text-gray-500"}`,children:["by ",x.userName]})]})]},x.id)})}),o.length===0&&!i&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:`w-12 h-12 ${s?"text-gray-600":"text-gray-300"} mx-auto mb-3`}),e.jsx("p",{className:`${s?"text-gray-400":"text-gray-500"} text-sm`,children:"No recent activity to display"})]})]})},De=()=>{const{isDark:t}=w();return e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((a,s)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:`h-4 rounded mb-2 ${t?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-3 rounded w-3/4 ${t?"bg-gray-700":"bg-gray-200"}`})]},s))})},ke=()=>{const{isDark:t}=w(),a=R(),{data:s,loading:n,execute:c}=Ne();h.useEffect(()=>{c();const r=d=>{d.key==="mentorconnect_joined_events"&&c()};window.addEventListener("storage",r);const o=()=>{c()};window.addEventListener("joinedEventsUpdated",o);const i=setInterval(()=>{c()},3e4);return()=>{window.removeEventListener("storage",r),window.removeEventListener("joinedEventsUpdated",o),clearInterval(i)}},[]);const l=(s||[]).filter(r=>r.status===F.SCHEDULED).sort((r,o)=>new Date(r.scheduledAt).getTime()-new Date(o.scheduledAt).getTime()).slice(0,3);h.useEffect(()=>{console.log("JoinedEvents - Raw data:",s),console.log("JoinedEvents - Upcoming events:",l)},[s,l]);const g=r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} rounded-lg shadow-sm border p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"} flex items-center`,children:[e.jsx(D,{className:"w-5 h-5 mr-2"}),"My Joined Events"]}),e.jsxs("button",{onClick:()=>a("/events"),className:`text-sm flex items-center gap-1 hover:underline ${t?"text-blue-400":"text-blue-600"}`,children:["View All",e.jsx(de,{className:"w-4 h-4"})]})]}),n?e.jsx(De,{}):l.length>0?e.jsx("div",{className:"space-y-4",children:l.map(r=>e.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer hover:shadow-md transition-all ${t?"bg-gray-700 border-gray-600 hover:border-blue-500":"bg-gray-50 border-gray-200 hover:border-blue-400"}`,onClick:()=>a("/events"),children:[e.jsx("h4",{className:`font-medium mb-2 ${t?"text-white":"text-gray-900"}`,children:r.title}),e.jsxs("div",{className:`space-y-1 text-xs ${t?"text-gray-400":"text-gray-600"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-3 h-3"}),e.jsx("span",{children:g(r.scheduledAt)})]}),r.location&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:r.location})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_,{className:"w-3 h-3"}),e.jsxs("span",{children:[r.currentAttendees||0,r.maxAttendees&&`/${r.maxAttendees}`]})]}),r.duration&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3"}),e.jsxs("span",{children:[r.duration,"min"]})]})]})]})]},r.id))}):e.jsxs("div",{className:`text-center py-8 ${t?"text-gray-400":"text-gray-500"}`,children:[e.jsx(D,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm mb-2",children:"No upcoming events joined yet"}),e.jsx("button",{onClick:()=>a("/events"),className:`text-sm hover:underline ${t?"text-blue-400":"text-blue-600"}`,children:"Browse available events"})]})]})},Re=()=>{const{isDark:t}=w();return e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((a,s)=>e.jsxs("div",{className:"animate-pulse flex gap-3",children:[e.jsx("div",{className:`h-10 w-10 rounded-full ${t?"bg-gray-700":"bg-gray-200"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`h-4 rounded mb-2 ${t?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-3 rounded w-3/4 ${t?"bg-gray-700":"bg-gray-200"}`})]})]},s))})},X=()=>{const{isDark:t}=w(),{user:a}=B(),s=R(),[n,c]=h.useState([]),[l,g]=h.useState(!0);h.useEffect(()=>{(async()=>{if(a?.id)try{g(!0);const m=(await G.getMessages(a.id)).sort((x,y)=>new Date(y.timestamp||y.createdAt).getTime()-new Date(x.timestamp||x.createdAt).getTime()).slice(0,3);c(m)}catch(b){console.error("Failed to fetch messages:",b)}finally{g(!1)}})()},[a]);const r=d=>{const b=new Date(d),x=new Date().getTime()-b.getTime(),y=Math.floor(x/(1e3*60)),N=Math.floor(x/(1e3*60*60)),S=Math.floor(x/(1e3*60*60*24));return y<1?"Just now":y<60?`${y}m ago`:N<24?`${N}h ago`:S<7?`${S}d ago`:b.toLocaleDateString("en-US",{month:"short",day:"numeric"})},o=d=>d.senderName||d.sender?.name||"Unknown",i=d=>d.length>60?d.substring(0,60)+"...":d;return e.jsxs("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} rounded-lg shadow-sm border p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"} flex items-center`,children:[e.jsx(k,{className:"w-5 h-5 mr-2"}),"Recent Messages"]}),e.jsx("button",{onClick:()=>s("/messages"),className:`text-sm hover:underline ${t?"text-blue-400":"text-blue-600"}`,children:"View All"})]}),l?e.jsx(Re,{}):n.length>0?e.jsx("div",{className:"space-y-2",children:n.map((d,b)=>e.jsxs("div",{className:`p-2.5 rounded-lg border cursor-pointer transition-colors ${t?"bg-gray-700/50 border-gray-600 hover:bg-gray-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,onClick:()=>s("/messages"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("p",{className:`font-medium text-sm truncate flex-1 mr-2 ${t?"text-white":"text-gray-900"}`,children:o(d)}),e.jsx("span",{className:`text-xs flex-shrink-0 ${t?"text-gray-400":"text-gray-500"}`,children:r(d.timestamp||d.createdAt)})]}),e.jsx("p",{className:`text-xs truncate ${t?"text-gray-400":"text-gray-600"}`,children:i(d.content||d.message||"")})]},d.id||b))}):e.jsxs("div",{className:`text-center py-8 ${t?"text-gray-400":"text-gray-500"}`,children:[e.jsx(k,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-sm mb-2",children:"No messages yet"}),e.jsx("button",{onClick:()=>s("/messages"),className:`text-sm hover:underline ${t?"text-blue-400":"text-blue-600"}`,children:"Start a conversation"})]})]})},Ie=()=>{const{user:t}=B(),{isDark:a}=w(),s=R(),[n,c]=h.useState([]),[l,g]=h.useState(null),[r,o]=h.useState(!0);h.useEffect(()=>{(async()=>{if(t?.id)try{o(!0);const y=(await G.getGroups()).find(N=>N.mentorId===t.id);if(y){g(y);const S=(await G.getUsers()).filter(p=>p.role==="MENTEE"&&p.isActive).slice(0,6),C=await Promise.all(S.map(async p=>{const V=(await W.getGoals(p.id)).filter(P=>P.visibleToMentor!==!1),u=V.filter(P=>P.status===j.COMPLETED).length,E=V.length,$=JSON.parse(localStorage.getItem("mentorconnect_joined_events")||"[]").filter(P=>P.startsWith(`${p.id}_`)).length,Y=Math.max(E+$,1),ge=u+$,me=Math.round(ge/Y*100);return{...p,completedGoals:u,totalGoals:E,eventsAttended:$,progressPercentage:Math.min(me,100)}}));C.sort((p,M)=>M.progressPercentage-p.progressPercentage),c(C)}}catch(x){console.error("Failed to fetch mentee progress:",x)}finally{o(!1)}})()},[t?.id]);const i=()=>{s("/my-mentees")},d=m=>m>=75?"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400":m>=50?"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400":m>=25?"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-400":"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-400",b=m=>m>=75?"bg-green-500":m>=50?"bg-blue-500":m>=25?"bg-yellow-500":"bg-red-500";return r?e.jsxs("div",{className:`${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} rounded-lg shadow-sm border p-6`,children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:`text-lg font-semibold ${a?"text-white":"text-gray-900"}`,children:"Mentee Progress"})]})}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(m=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:`h-20 rounded-lg ${a?"bg-gray-700":"bg-gray-100"}`})},m))})]}):n.length===0?e.jsxs("div",{className:`${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} rounded-lg shadow-sm border p-6`,children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:`text-lg font-semibold ${a?"text-white":"text-gray-900"}`,children:"Mentee Progress"})]})}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:`w-12 h-12 mx-auto mb-3 ${a?"text-gray-600":"text-gray-400"}`}),e.jsx("p",{className:`text-sm ${a?"text-gray-400":"text-gray-500"}`,children:"No mentees assigned yet"})]})]}):e.jsxs("div",{className:`${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} rounded-lg shadow-sm border p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:`text-lg font-semibold ${a?"text-white":"text-gray-900"}`,children:"Mentee Progress"})]}),l&&e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${a?"bg-blue-900/30 text-blue-400":"bg-blue-100 text-blue-700"}`,children:l.name})]}),e.jsx("div",{className:"space-y-3",children:n.map(m=>e.jsxs("div",{className:`p-4 rounded-lg border ${a?"bg-gray-700/50 border-gray-600 hover:bg-gray-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"} transition-colors cursor-pointer`,onClick:i,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${a?"bg-blue-900/50":"bg-blue-100"}`,children:e.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[m.firstName[0],m.lastName[0]]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:`font-medium truncate ${a?"text-white":"text-gray-900"}`,children:[m.firstName," ",m.lastName]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:`w-3 h-3 ${a?"text-gray-400":"text-gray-500"}`}),e.jsxs("span",{className:`text-xs ${a?"text-gray-400":"text-gray-500"}`,children:[m.completedGoals,"/",m.totalGoals," Goals"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{className:`w-3 h-3 ${a?"text-gray-400":"text-gray-500"}`}),e.jsxs("span",{className:`text-xs ${a?"text-gray-400":"text-gray-500"}`,children:[m.eventsAttended," Events"]})]})]})]})]}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${d(m.progressPercentage)}`,children:[m.progressPercentage,"%"]})]}),e.jsx("div",{className:`w-full h-2 rounded-full ${a?"bg-gray-600":"bg-gray-200"}`,children:e.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${b(m.progressPercentage)}`,style:{width:`${m.progressPercentage}%`}})})]},m.id))}),n.length>0&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("button",{onClick:i,className:`w-full flex items-center justify-center gap-2 text-sm font-medium ${a?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:["View All Mentees",e.jsx(de,{className:"w-4 h-4"})]})})]})},Ge=()=>{const{isDark:t}=w(),a=[{id:"1",title:"User unable to access dashboard",severity:"high",status:"investigating",reportedBy:"John Doe",reportedAt:"2 hours ago"},{id:"2",title:"Message sending failure",severity:"critical",status:"open",reportedBy:"Jane Smith",reportedAt:"30 minutes ago"},{id:"3",title:"Event creation error",severity:"medium",status:"investigating",reportedBy:"Mike Johnson",reportedAt:"5 hours ago"},{id:"4",title:"Profile update not saving",severity:"low",status:"resolved",reportedBy:"Sarah Wilson",reportedAt:"1 day ago"}],s=c=>{switch(c){case"critical":return t?"bg-red-900/20 text-red-300 border-red-800/50":"bg-red-50 text-red-600 border-red-200";case"high":return t?"bg-orange-900/20 text-orange-300 border-orange-800/50":"bg-orange-50 text-orange-600 border-orange-200";case"medium":return t?"bg-yellow-900/20 text-yellow-300 border-yellow-800/50":"bg-yellow-50 text-yellow-600 border-yellow-200";case"low":return t?"bg-blue-900/20 text-blue-300 border-blue-800/50":"bg-blue-50 text-blue-600 border-blue-200";default:return t?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}},n=c=>{switch(c){case"open":return e.jsx(ee,{className:`w-4 h-4 ${t?"text-red-400":"text-red-500"}`});case"investigating":return e.jsx(A,{className:`w-4 h-4 ${t?"text-yellow-400":"text-yellow-500"}`});case"resolved":return e.jsx(O,{className:`w-4 h-4 ${t?"text-green-400":"text-green-500"}`});default:return e.jsx(ce,{className:`w-4 h-4 ${t?"text-gray-400":"text-gray-500"}`})}};return e.jsxs("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} rounded-lg shadow-sm border p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"} flex items-center`,children:[e.jsx(ee,{className:"w-5 h-5 mr-2 text-orange-600"}),"Recent Incident Reports"]}),e.jsx("button",{onClick:()=>window.location.href="http://localhost:5176/incidents",className:`text-sm font-medium ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:"View All"})]}),e.jsx("div",{className:"space-y-2",children:a.slice(0,3).map(c=>e.jsx("div",{className:`p-2.5 rounded-lg border ${t?"bg-gray-700/50 border-gray-600 hover:bg-gray-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"} transition-colors cursor-pointer`,onClick:()=>window.location.href="http://localhost:5176/incidents",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0 mr-2",children:e.jsx("h4",{className:`font-medium text-sm ${t?"text-white":"text-gray-900"} truncate`,children:c.title})}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ${s(c.severity)}`,children:c.severity}),n(c.status)]})]})},c.id))}),a.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(O,{className:`w-12 h-12 mx-auto mb-3 ${t?"text-gray-600":"text-gray-400"}`}),e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"No incident reports"})]})]})},Oe=()=>{const{isDark:t}=w(),a=R(),[s,n]=h.useState([]);h.useEffect(()=>{c()},[]);const c=async()=>{try{const d=[{id:"1",firstName:"Alex",lastName:"Thompson",email:"alex.thompson@example.com",requestedRole:"MENTOR",status:J.PENDING,inviteCode:"MENTOR2024",createdAt:new Date(Date.now()-36e5).toISOString()},{id:"2",firstName:"Maria",lastName:"Garcia",email:"maria.garcia@example.com",requestedRole:"MENTEE",status:J.PENDING,createdAt:new Date(Date.now()-108e5).toISOString()},{id:"3",firstName:"David",lastName:"Chen",email:"david.chen@example.com",requestedRole:"MENTOR",status:J.PENDING,inviteCode:"MENTOR2024",createdAt:new Date(Date.now()-18e6).toISOString()}].filter(b=>b.status===J.PENDING).map(b=>({id:b.id,userName:`${b.firstName} ${b.lastName}`,email:b.email,role:b.requestedRole,requestedAt:l(b.createdAt),status:"pending"}));n(d)}catch(i){console.error("Failed to load pending requests:",i)}},l=i=>{const d=new Date(i),m=new Date().getTime()-d.getTime(),x=Math.floor(m/6e4),y=Math.floor(m/36e5),N=Math.floor(m/864e5);return x<60?`${x} min${x!==1?"s":""} ago`:y<24?`${y} hour${y!==1?"s":""} ago`:`${N} day${N!==1?"s":""} ago`},g=i=>{switch(i){case"MENTOR":return t?"bg-purple-900/20 text-purple-300 border-purple-800/50":"bg-purple-50 text-purple-600 border-purple-200";case"MENTEE":return t?"bg-blue-900/20 text-blue-300 border-blue-800/50":"bg-blue-50 text-blue-600 border-blue-200";case"ADMIN":return t?"bg-red-900/20 text-red-300 border-red-800/50":"bg-red-50 text-red-600 border-red-200";default:return t?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}},r=i=>{switch(i){case"pending":return e.jsx(A,{className:`w-4 h-4 ${t?"text-yellow-400":"text-yellow-500"}`});case"approved":return e.jsx(O,{className:`w-4 h-4 ${t?"text-green-400":"text-green-500"}`});case"rejected":return e.jsx(ce,{className:`w-4 h-4 ${t?"text-red-400":"text-red-500"}`});default:return null}},o=s.filter(i=>i.status==="pending").length;return e.jsxs("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} rounded-lg shadow-sm border p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"} flex items-center`,children:[e.jsx(ie,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Requests for Approval"]}),o>0&&e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${t?"bg-yellow-900/20 text-yellow-300":"bg-yellow-50 text-yellow-600"}`,children:[o," pending"]})]}),e.jsx("button",{onClick:()=>a("/admin"),className:`text-sm font-medium ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:"View All"})]}),e.jsx("div",{className:"space-y-2",children:s.slice(0,3).map(i=>e.jsx("div",{className:`p-2.5 rounded-lg border ${t?"bg-gray-700/50 border-gray-600 hover:bg-gray-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"} transition-colors cursor-pointer ${i.status==="pending"?"ring-1 ring-yellow-500/20":""}`,onClick:()=>a("/admin"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0 mr-2",children:e.jsx("h4",{className:`font-medium text-sm ${t?"text-white":"text-gray-900"} truncate`,children:i.userName})}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium border ${g(i.role)}`,children:i.role}),r(i.status)]})]})},i.id))}),s.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(O,{className:`w-12 h-12 mx-auto mb-3 ${t?"text-gray-600":"text-gray-400"}`}),e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"No pending requests"})]})]})},Pe=()=>{const{isDark:t}=w(),a=R(),s=[{id:"1",userName:"Sarah Johnson",rating:5,comment:"The mentorship program has been incredibly valuable. My mentor has helped me grow both professionally and personally.",category:"Mentorship",submittedAt:"2 hours ago"},{id:"2",userName:"Michael Lee",rating:4,comment:"Great platform overall, but I would love to see more networking events and workshops.",category:"Events",submittedAt:"5 hours ago"},{id:"3",userName:"Jessica Rodriguez",rating:5,comment:"The resources section is amazing! I found everything I needed to prepare for my career transition.",category:"Resources",submittedAt:"1 day ago"},{id:"4",userName:"David Wilson",rating:3,comment:"Good experience, but the messaging system could be more intuitive.",category:"Platform",submittedAt:"2 days ago"}],n=g=>{switch(g.toLowerCase()){case"mentorship":return t?"bg-purple-900/20 text-purple-300 border-purple-800/50":"bg-purple-50 text-purple-600 border-purple-200";case"events":return t?"bg-blue-900/20 text-blue-300 border-blue-800/50":"bg-blue-50 text-blue-600 border-blue-200";case"resources":return t?"bg-green-900/20 text-green-300 border-green-800/50":"bg-green-50 text-green-600 border-green-200";case"platform":return t?"bg-orange-900/20 text-orange-300 border-orange-800/50":"bg-orange-50 text-orange-600 border-orange-200";default:return t?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}},c=g=>e.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(r=>e.jsx(ae,{className:`w-3.5 h-3.5 ${r<=g?t?"fill-yellow-400 text-yellow-400":"fill-yellow-500 text-yellow-500":t?"text-gray-600":"text-gray-300"}`},r))}),l=s.length>0?(s.reduce((g,r)=>g+r.rating,0)/s.length).toFixed(1):"0.0";return e.jsxs("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} rounded-lg shadow-sm border p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"} flex items-center`,children:[e.jsx(k,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Recent Feedback"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ae,{className:`w-4 h-4 ${t?"fill-yellow-400 text-yellow-400":"fill-yellow-500 text-yellow-500"}`}),e.jsx("span",{className:`text-sm font-semibold ${t?"text-gray-300":"text-gray-700"}`,children:l})]})]}),e.jsx("button",{onClick:()=>a("/feedback"),className:`text-sm font-medium ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:"View All"})]}),e.jsx("div",{className:"space-y-2",children:s.slice(0,3).map(g=>e.jsxs("div",{className:`p-2.5 rounded-lg border ${t?"bg-gray-700/50 border-gray-600 hover:bg-gray-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"} transition-colors cursor-pointer`,onClick:()=>a("/feedback"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx("h4",{className:`font-medium text-sm ${t?"text-white":"text-gray-900"} truncate`,children:g.userName}),c(g.rating)]}),e.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium border ${n(g.category)} ml-2 flex-shrink-0`,children:g.category})]}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-600"} line-clamp-1`,children:g.comment})]},g.id))}),s.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(k,{className:`w-12 h-12 mx-auto mb-3 ${t?"text-gray-600":"text-gray-400"}`}),e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"No feedback yet"})]})]})},Le=()=>{const{user:t}=B(),a=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Ge,{}),e.jsx(Oe,{}),e.jsx(Pe,{}),e.jsx(X,{})]}),s=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(X,{}),e.jsx(Ie,{})]}),n=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(X,{}),e.jsx(ke,{})]}),c=()=>{switch(t?.role){case v.ADMIN:return a();case v.MENTOR:return s();case v.MENTEE:return n();default:return a()}};return e.jsx("div",{className:"mb-8",children:c()})},Ue=({loading:t=!1,goals:a=[]})=>{const{user:s}=B(),{isDark:n}=w(),c=R(),[l,g]=h.useState([]),[r,o]=h.useState(!0),[i,d]=h.useState(null),[b,m]=h.useState(0),x=async()=>{if(s?.id)try{o(!0);const E=(await W.getGoals(s.id,{userId:s.id,status:[j.IN_PROGRESS,j.NOT_STARTED,j.OVERDUE]})).sort((T,$)=>new Date($.updatedAt).getTime()-new Date(T.updatedAt).getTime()).slice(0,3);g(E)}catch(u){console.error("Failed to load goals:",u),g([])}finally{o(!1)}};h.useEffect(()=>{a.length===0&&x()},[s?.id,a.length,b]),h.useEffect(()=>{const u=()=>{!document.hidden&&a.length===0&&m(E=>E+1)};return document.addEventListener("visibilitychange",u),()=>document.removeEventListener("visibilitychange",u)},[a.length]);const y=a.length>0?a:l,N=t||r,S=async(u,E)=>{try{d(u),await W.updateGoal(u,{status:E}),g(T=>T.map($=>$.id===u?{...$,status:E,updatedAt:new Date().toISOString()}:$)),se.success("Goal status updated successfully")}catch(T){console.error("Failed to update goal status:",T),se.error("Failed to update goal status")}finally{d(null)}},C=u=>{switch(u){case j.COMPLETED:return O;case j.IN_PROGRESS:return A;case j.OVERDUE:return te;default:return L}},p=u=>{switch(u){case j.COMPLETED:return"text-green-500";case j.IN_PROGRESS:return"text-blue-500";case j.OVERDUE:return"text-red-500";case j.PAUSED:return"text-yellow-500";default:return"text-gray-500"}},M=u=>u>=75?"bg-green-500":u>=50?"bg-blue-500":u>=25?"bg-yellow-500":"bg-gray-400",V=()=>e.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>e.jsxs("div",{className:`animate-pulse border p-4 rounded-lg ${n?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"}`,children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`h-4 rounded w-3/4 mb-2 ${n?"bg-gray-700":"bg-gray-200"}`}),e.jsx("div",{className:`h-3 rounded w-1/2 ${n?"bg-gray-700":"bg-gray-200"}`})]})}),e.jsx("div",{className:`h-2 rounded w-full ${n?"bg-gray-700":"bg-gray-200"}`})]},u))});return e.jsxs("div",{className:`rounded-lg shadow-sm border p-6 ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(L,{className:`w-5 h-5 ${n?"text-blue-400":"text-blue-600"}`}),e.jsx("h3",{className:`text-lg font-semibold ${n?"text-white":"text-gray-900"}`,children:"Recent Goals"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>c("/goals"),className:`text-sm font-medium transition-colors ${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:"View All"}),e.jsxs("button",{onClick:()=>c("/goals?action=create"),className:"flex items-center px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[e.jsx(ne,{className:"w-4 h-4 mr-1"}),"New Goal"]})]})]}),N?e.jsx(V,{}):y.length>0?e.jsx("div",{className:"space-y-4",children:y.map(u=>{const E=C(u.status),T=p(u.status),$=M(u.progress);return e.jsxs("div",{className:`border rounded-lg p-4 transition-all ${n?"border-gray-700 hover:border-gray-600 bg-gray-800/50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(E,{className:`w-4 h-4 ${T} flex-shrink-0`}),e.jsx("h4",{className:`text-sm font-medium truncate cursor-pointer ${n?"text-white hover:text-blue-400":"text-gray-900 hover:text-blue-600"}`,onClick:()=>c(`/goals?id=${u.id}`),children:u.title})]}),e.jsx("p",{className:`text-xs ${n?"text-gray-400":"text-gray-500"} line-clamp-2`,children:u.description})]})}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:n?"text-gray-400":"text-gray-600",children:"Progress"}),e.jsxs("span",{className:n?"text-gray-300":"text-gray-700",children:[u.progress,"%"]})]}),e.jsx("div",{className:`h-2 rounded-full overflow-hidden ${n?"bg-gray-700":"bg-gray-200"}`,children:e.jsx("div",{className:`h-full ${$} transition-all duration-300`,style:{width:`${u.progress}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:`text-xs ${n?"text-gray-400":"text-gray-500"}`,children:["Due: ",new Date(u.dueDate).toLocaleDateString()]}),e.jsx("div",{className:"w-36",children:e.jsx(je,{placeholder:"Status",value:u.status,onChange:Y=>S(u.id,Y),options:[{value:j.NOT_STARTED,label:"Not Started",icon:e.jsx(L,{className:"w-4 h-4"}),description:"Yet to begin"},{value:j.IN_PROGRESS,label:"In Progress",icon:e.jsx(A,{className:"w-4 h-4"}),description:"Currently working"},{value:j.PAUSED,label:"Paused",icon:e.jsx(te,{className:"w-4 h-4"}),description:"Temporarily on hold"},{value:j.COMPLETED,label:"Completed",icon:e.jsx(O,{className:"w-4 h-4"}),description:"Successfully finished"}],disabled:i===u.id})})]})]},u.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:`w-12 h-12 ${n?"text-gray-600":"text-gray-300"} mx-auto mb-3`}),e.jsx("p",{className:`${n?"text-gray-400":"text-gray-500"} text-sm mb-4`,children:"No active goals yet"}),e.jsxs("button",{onClick:()=>c("/goals?action=create"),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),"Create Your First Goal"]})]})]})},et=()=>{const{isDark:t}=w(),{stats:a,loading:s}=Ee(),{data:n,loading:c}=$e();return e.jsxs("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-gray-50"}`,children:[e.jsx(Se,{currentPage:"dashboard"}),e.jsxs("div",{className:`
        ${U.container.all}
        pt-20 pb-24 sm:pt-8 sm:pb-8
        ${U.spacing.section}
      `,children:[e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsx(Me,{dashboardStats:a||void 0})}),e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsx(Ce,{loading:s,dashboardData:a||void 0})}),e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsx(Le,{loading:c,analyticsData:n||void 0})}),e.jsxs("div",{className:`
          grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8
        `,children:[e.jsx("div",{className:"order-1",children:e.jsx(Te,{})}),e.jsx("div",{className:"order-2",children:e.jsx(Ue,{})})]})]})]})};export{et as default};
